<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code CLI Mastery: Autonomous Product Development</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Master Claude Code CLI for autonomous product development. Learn to build complete products with AI as your full-stack team. Interactive crash course with 9 comprehensive modules.">
    <meta name="keywords" content="Claude Code, CLI, AI development, autonomous coding, product development, Anthropic, Claude AI, AI-assisted development">
    <meta name="author" content="Claude Code Mastery">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://claudetutor.vercel.app/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://claudetutor.vercel.app/">
    <meta property="og:title" content="Claude Code CLI Mastery: Autonomous Product Development">
    <meta property="og:description" content="From idea to shipped product using AI as your full-stack team. Master the patterns that let Claude Code build complete products autonomously.">
    <meta property="og:site_name" content="Claude Code Mastery">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://claudetutor.vercel.app/">
    <meta name="twitter:title" content="Claude Code CLI Mastery: Autonomous Product Development">
    <meta name="twitter:description" content="From idea to shipped product using AI as your full-stack team. Master the patterns that let Claude Code build complete products autonomously.">

    <!-- Theme Color -->
    <meta name="theme-color" content="#0d1117">

    <!-- Syntax Highlighting Themes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" id="hljs-github-dark">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css" id="hljs-github-light" disabled>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai.min.css" id="hljs-monokai" disabled>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css" id="hljs-atom-one-dark" disabled>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/yaml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/markdown.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/7.0.0/fuse.min.js"></script>
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --text-muted: #6e7681;
            --border-color: #30363d;
            --accent-color: #58a6ff;
            --accent-hover: #79c0ff;
            --success-color: #3fb950;
            --warning-color: #d29922;
            --code-bg: #161b22;
            --sidebar-width: 280px;
            --header-height: 60px;
        }

        [data-theme="light"] {
            --bg-primary: #ffffff;
            --bg-secondary: #f6f8fa;
            --bg-tertiary: #eaeef2;
            --text-primary: #1f2328;
            --text-secondary: #656d76;
            --text-muted: #8c959f;
            --border-color: #d0d7de;
            --accent-color: #0969da;
            --accent-hover: #0550ae;
            --code-bg: #f6f8fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: calc(var(--header-height) + 20px);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background 0.3s, color 0.3s;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            padding: 0 20px;
            z-index: 1000;
            gap: 16px;
        }

        .menu-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .menu-toggle:hover {
            background: var(--bg-tertiary);
            border-color: var(--text-muted);
        }

        .menu-toggle .menu-icon {
            display: block;
        }

        .menu-toggle .close-icon {
            display: none;
        }

        body.sidebar-open .menu-toggle .menu-icon {
            display: none;
        }

        body.sidebar-open .menu-toggle .close-icon {
            display: block;
        }

        .logo {
            font-weight: 700;
            font-size: 18px;
            color: var(--text-primary);
            white-space: nowrap;
        }

        .logo span {
            color: var(--accent-color);
        }

        .search-trigger {
            flex: 1;
            max-width: 400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            color: var(--text-muted);
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .search-trigger:hover {
            border-color: var(--accent-color);
        }

        .search-trigger kbd {
            margin-left: auto;
            padding: 2px 6px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 12px;
            font-family: inherit;
        }

        .theme-toggle {
            background: none;
            border: none;
            color: var(--text-primary);
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            background: var(--bg-tertiary);
        }

        /* Syntax Theme Selector */
        .syntax-theme-selector {
            display: none;
        }

        @media (min-width: 769px) {
            .syntax-theme-selector {
                display: block;
            }
        }

        .syntax-theme-selector select {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            outline: none;
            transition: all 0.2s;
        }

        .syntax-theme-selector select:hover {
            border-color: var(--text-muted);
            color: var(--text-primary);
        }

        .syntax-theme-selector select:focus {
            border-color: var(--accent-color);
        }

        /* Language Selector */
        .language-selector {
            display: none;
        }

        @media (min-width: 769px) {
            .language-selector {
                display: block;
            }
        }

        .language-selector select {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            outline: none;
            transition: all 0.2s;
        }

        .language-selector select:hover {
            border-color: var(--text-muted);
            color: var(--text-primary);
        }

        .language-selector select:focus {
            border-color: var(--accent-color);
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: var(--header-height);
            left: 0;
            bottom: 0;
            width: var(--sidebar-width);
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            padding: 20px 0;
            transition: transform 0.3s ease, width 0.3s ease;
            z-index: 900;
            transform: translateX(-100%);
        }

        body.sidebar-open .sidebar {
            transform: translateX(0);
        }

        .sidebar-overlay {
            display: none;
            position: fixed;
            inset: 0;
            top: var(--header-height);
            background: rgba(0, 0, 0, 0.5);
            z-index: 899;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .sidebar-overlay.active {
            display: block;
            opacity: 1;
        }

        .nav-section {
            margin-bottom: 8px;
        }

        .nav-section-title {
            padding: 8px 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
        }

        .nav-link {
            display: block;
            padding: 8px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 14px;
            border-left: 3px solid transparent;
            transition: all 0.2s;
        }

        .nav-link:hover {
            color: var(--text-primary);
            background: var(--bg-tertiary);
        }

        .nav-link.active {
            color: var(--accent-color);
            border-left-color: var(--accent-color);
            background: var(--bg-tertiary);
        }

        .nav-link.sub {
            padding-left: 32px;
            font-size: 13px;
        }

        /* Main Content */
        .main {
            margin-left: 0;
            margin-top: var(--header-height);
            min-height: calc(100vh - var(--header-height));
            padding: 40px 60px;
            max-width: 900px;
            transition: margin-left 0.3s ease;
        }

        body.sidebar-open .main {
            margin-left: var(--sidebar-width);
        }

        .section {
            margin-bottom: 60px;
            padding-top: 20px;
        }

        h1 {
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--text-primary);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 16px;
        }

        h2 {
            font-size: 1.75em;
            font-weight: 600;
            margin: 40px 0 16px;
            color: var(--text-primary);
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        h3 {
            font-size: 1.25em;
            font-weight: 600;
            margin: 32px 0 12px;
            color: var(--text-primary);
        }

        h4 {
            font-size: 1.1em;
            font-weight: 600;
            margin: 24px 0 8px;
            color: var(--text-primary);
        }

        p {
            margin-bottom: 16px;
            color: var(--text-secondary);
        }

        .lead {
            font-size: 1.2em;
            color: var(--text-primary);
            margin-bottom: 24px;
        }

        blockquote {
            border-left: 4px solid var(--accent-color);
            padding: 12px 20px;
            margin: 20px 0;
            background: var(--bg-secondary);
            border-radius: 0 8px 8px 0;
        }

        blockquote p {
            margin: 0;
            color: var(--text-primary);
        }

        ul, ol {
            margin: 16px 0;
            padding-left: 24px;
            color: var(--text-secondary);
        }

        li {
            margin-bottom: 8px;
        }

        /* Code blocks */
        .code-block {
            position: relative;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .code-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 16px;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            font-size: 12px;
            color: var(--text-muted);
        }

        .copy-btn {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: all 0.2s;
        }

        .copy-btn:hover {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .copy-btn.copied {
            color: var(--success-color);
        }

        pre {
            margin: 0;
            padding: 16px;
            overflow-x: auto;
            background: var(--code-bg) !important;
        }

        pre:focus {
            outline: 2px solid var(--accent-color);
            outline-offset: -2px;
        }

        pre:focus:not(:focus-visible) {
            outline: none;
        }

        code {
            font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
            font-size: 13px;
            line-height: 1.5;
        }

        :not(pre) > code {
            background: var(--bg-tertiary);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
            color: var(--accent-color);
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 14px;
        }

        th, td {
            padding: 12px 16px;
            text-align: left;
            border: 1px solid var(--border-color);
        }

        th {
            background: var(--bg-secondary);
            font-weight: 600;
            color: var(--text-primary);
        }

        td {
            color: var(--text-secondary);
        }

        tr:hover td {
            background: var(--bg-secondary);
        }

        /* ASCII boxes */
        .ascii-box {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
            font-size: 13px;
            line-height: 1.4;
            white-space: pre;
            color: var(--text-primary);
        }

        /* Search Modal */
        .search-modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            align-items: flex-start;
            justify-content: center;
            padding-top: 100px;
        }

        .search-modal.active {
            display: flex;
        }

        .search-container {
            width: 90%;
            max-width: 600px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .search-input-wrapper {
            display: flex;
            align-items: center;
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            gap: 12px;
        }

        .search-input-wrapper svg {
            color: var(--text-muted);
            flex-shrink: 0;
        }

        .search-input {
            flex: 1;
            background: none;
            border: none;
            font-size: 16px;
            color: var(--text-primary);
            outline: none;
        }

        .search-input::placeholder {
            color: var(--text-muted);
        }

        .search-results {
            max-height: 400px;
            overflow-y: auto;
        }

        .search-result {
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 1px solid var(--border-color);
            transition: background 0.2s;
        }

        .search-result:hover,
        .search-result.selected {
            background: var(--bg-tertiary);
        }

        .search-result-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .search-result-preview {
            font-size: 13px;
            color: var(--text-muted);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .search-result mark {
            background: rgba(88, 166, 255, 0.3);
            color: var(--accent-color);
            border-radius: 2px;
        }

        .search-empty {
            padding: 40px;
            text-align: center;
            color: var(--text-muted);
        }

        .search-footer {
            padding: 12px 16px;
            background: var(--bg-tertiary);
            display: flex;
            gap: 16px;
            font-size: 12px;
            color: var(--text-muted);
        }

        .search-footer kbd {
            padding: 2px 6px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-right: 4px;
        }

        /* Keyboard Shortcuts Modal */
        .shortcuts-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s, visibility 0.2s;
        }

        .shortcuts-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .shortcuts-container {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            width: 100%;
            max-width: 480px;
            max-height: 80vh;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .shortcuts-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .shortcuts-header h3 {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
        }

        .shortcuts-close {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .shortcuts-close:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .shortcuts-list {
            padding: 16px 20px;
            overflow-y: auto;
            max-height: calc(80vh - 60px);
        }

        .shortcut-group {
            margin-bottom: 20px;
        }

        .shortcut-group:last-child {
            margin-bottom: 0;
        }

        .shortcut-group h4 {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            margin: 0 0 10px 0;
        }

        .shortcut-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 0;
        }

        .shortcut-keys {
            display: flex;
            gap: 4px;
        }

        .shortcut-keys kbd {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 28px;
            height: 28px;
            padding: 0 8px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 12px;
            font-family: inherit;
            color: var(--text-primary);
        }

        .shortcut-desc {
            color: var(--text-secondary);
            font-size: 14px;
        }

        @media (max-width: 480px) {
            .shortcuts-container {
                margin: 16px;
            }
        }

        /* Scroll to Top Button */
        .scroll-to-top {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 48px;
            height: 48px;
            background: var(--accent-color);
            color: #fff;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: opacity 0.3s, visibility 0.3s, transform 0.3s, background 0.2s;
            z-index: 100;
        }

        .scroll-to-top:hover {
            background: var(--accent-hover);
            transform: translateY(0) scale(1.1);
        }

        .scroll-to-top:focus {
            outline: 2px solid var(--accent-color);
            outline-offset: 2px;
        }

        .scroll-to-top:focus:not(:focus-visible) {
            outline: none;
        }

        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        @media (max-width: 768px) {
            .scroll-to-top {
                bottom: 16px;
                right: 16px;
                width: 44px;
                height: 44px;
            }
        }

        /* Floating Table of Contents */
        .floating-toc {
            position: fixed;
            top: calc(var(--header-height) + 40px);
            right: 24px;
            width: 200px;
            max-height: calc(100vh - var(--header-height) - 80px);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            overflow-y: auto;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transform: translateX(20px);
            transition: opacity 0.3s, visibility 0.3s, transform 0.3s;
        }

        .floating-toc.visible {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }

        .floating-toc-header {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .floating-toc-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .floating-toc-item {
            margin: 0;
        }

        .floating-toc-link {
            display: block;
            padding: 6px 0;
            font-size: 13px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 2px solid transparent;
            padding-left: 10px;
            margin-left: -10px;
            transition: all 0.2s;
            line-height: 1.4;
        }

        .floating-toc-link:hover {
            color: var(--text-primary);
        }

        .floating-toc-link.active {
            color: var(--accent-color);
            border-left-color: var(--accent-color);
        }

        .floating-toc-link.sub {
            font-size: 12px;
            padding-left: 20px;
            margin-left: -10px;
        }

        /* Hide floating TOC on smaller screens and when sidebar is open */
        @media (max-width: 1200px) {
            .floating-toc {
                display: none;
            }
        }

        /* Reading Time Badge */
        .reading-time {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            margin-top: 8px;
            padding: 4px 10px;
            background: var(--bg-tertiary);
            border-radius: 16px;
            font-size: 12px;
            color: var(--text-muted);
        }

        .reading-time svg {
            opacity: 0.7;
        }

        /* Reading Progress Bar */
        .reading-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: var(--accent-color);
            width: 0%;
            transition: width 0.1s ease-out;
            z-index: 10;
        }

        /* Progress Tracking */
        .progress-header {
            padding: 12px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .progress-bar-container {
            flex: 1;
            height: 6px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background: var(--success-color);
            border-radius: 3px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .progress-text {
            font-size: 12px;
            color: var(--text-muted);
            white-space: nowrap;
        }

        .nav-link.completed {
            color: var(--success-color);
        }

        .nav-link.completed::before {
            content: '';
            display: inline-block;
            width: 6px;
            height: 6px;
            background: var(--success-color);
            border-radius: 50%;
            margin-right: 8px;
        }

        .module-complete-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-secondary);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 16px;
        }

        .module-complete-btn:hover {
            background: var(--bg-secondary);
            border-color: var(--success-color);
            color: var(--success-color);
        }

        .module-complete-btn.completed {
            background: rgba(63, 185, 80, 0.1);
            border-color: var(--success-color);
            color: var(--success-color);
        }

        .module-complete-btn svg {
            width: 16px;
            height: 16px;
        }

        /* Interactive Exercises */
        .exercise {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
        }

        .exercise-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .exercise-badge {
            background: var(--accent-color);
            color: #fff;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .exercise-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
        }

        .exercise-description {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 16px;
            line-height: 1.6;
        }

        .exercise-editor {
            position: relative;
            margin-bottom: 16px;
        }

        .exercise-textarea {
            width: 100%;
            min-height: 200px;
            padding: 16px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
            font-size: 13px;
            line-height: 1.5;
            resize: vertical;
            outline: none;
            transition: border-color 0.2s;
        }

        .exercise-textarea:focus {
            border-color: var(--accent-color);
        }

        .exercise-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .exercise-btn {
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .exercise-btn-primary {
            background: var(--accent-color);
            border: none;
            color: #fff;
        }

        .exercise-btn-primary:hover {
            background: var(--accent-hover);
        }

        .exercise-btn-secondary {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .exercise-btn-secondary:hover {
            border-color: var(--text-muted);
            color: var(--text-primary);
        }

        .exercise-result {
            margin-top: 16px;
            padding: 16px;
            border-radius: 8px;
            font-size: 14px;
            display: none;
        }

        .exercise-result.visible {
            display: block;
        }

        .exercise-result.success {
            background: rgba(63, 185, 80, 0.1);
            border: 1px solid var(--success-color);
            color: var(--success-color);
        }

        .exercise-result.error {
            background: rgba(248, 81, 73, 0.1);
            border: 1px solid #f85149;
            color: #f85149;
        }

        .exercise-hint {
            margin-top: 12px;
            padding: 12px 16px;
            background: rgba(210, 153, 34, 0.1);
            border: 1px solid var(--warning-color);
            border-radius: 6px;
            font-size: 13px;
            color: var(--warning-color);
            display: none;
        }

        .exercise-hint.visible {
            display: block;
        }

        /* Horizontal Rule */
        hr {
            border: none;
            border-top: 1px solid var(--border-color);
            margin: 40px 0;
        }

        /* Responsive - Desktop (1024px+) */
        @media (min-width: 1025px) {
            body.sidebar-open .main {
                margin-left: var(--sidebar-width);
            }
        }

        /* Responsive - Tablet Landscape (769px - 1024px) */
        @media (max-width: 1024px) {
            .main {
                padding: 30px 40px;
                max-width: 100%;
            }

            body.sidebar-open .main {
                margin-left: var(--sidebar-width);
            }

            .search-trigger {
                max-width: 300px;
            }
        }

        /* Responsive - Tablet Portrait (481px - 768px) */
        @media (max-width: 768px) {
            :root {
                --sidebar-width: 260px;
            }

            .header {
                padding: 0 12px;
                gap: 8px;
            }

            .logo {
                font-size: 16px;
            }

            .search-trigger {
                max-width: 180px;
                padding: 6px 10px;
            }

            .search-trigger span {
                display: none;
            }

            .search-trigger kbd {
                display: none;
            }

            /* Sidebar overlays content on tablet */
            body.sidebar-open .main {
                margin-left: 0;
            }

            .main {
                padding: 24px 20px;
            }

            h1 {
                font-size: 1.75em;
            }

            h2 {
                font-size: 1.4em;
            }

            h3 {
                font-size: 1.15em;
            }

            .code-block pre {
                padding: 12px;
            }

            code {
                font-size: 12px;
            }

            table {
                display: block;
                overflow-x: auto;
            }

            .ascii-box {
                font-size: 11px;
                padding: 12px;
            }
        }

        /* Responsive - Mobile (480px and below) */
        @media (max-width: 480px) {
            :root {
                --sidebar-width: 100%;
                --header-height: 56px;
            }

            .header {
                padding: 0 10px;
                gap: 6px;
            }

            .logo {
                font-size: 14px;
            }

            .logo span {
                display: none;
            }

            .search-trigger {
                max-width: 120px;
                padding: 6px 8px;
                font-size: 13px;
            }

            .theme-toggle, .logout-btn {
                padding: 6px;
            }

            .logout-text {
                display: none;
            }

            .sidebar {
                width: 100%;
            }

            .main {
                padding: 16px 12px;
            }

            h1 {
                font-size: 1.5em;
            }

            h2 {
                font-size: 1.25em;
            }

            h3 {
                font-size: 1.1em;
            }

            .section {
                margin-bottom: 40px;
            }

            .code-block pre {
                padding: 10px;
            }

            code {
                font-size: 11px;
            }

            .ascii-box {
                font-size: 9px;
                padding: 10px;
            }

            blockquote {
                padding: 10px 14px;
            }

            .lead {
                font-size: 1.1em;
            }

            /* Login adjustments for mobile */
            .login-container {
                margin: 16px;
                padding: 20px;
            }

            .login-logo h1 {
                font-size: 20px;
            }
        }

        /* Touch Target Accessibility (44x44px minimum) */
        @media (pointer: coarse), (max-width: 768px) {
            .nav-link {
                padding: 12px 20px;
                min-height: 44px;
                display: flex;
                align-items: center;
            }

            .nav-link.sub {
                padding-left: 32px;
            }

            .menu-toggle {
                min-width: 44px;
                min-height: 44px;
                padding: 10px;
            }

            .theme-toggle {
                min-width: 44px;
                min-height: 44px;
                padding: 10px;
            }

            .logout-btn {
                min-height: 44px;
                padding: 10px 14px;
            }

            .copy-btn {
                min-width: 44px;
                min-height: 44px;
                padding: 10px 12px;
            }

            .search-result {
                padding: 14px 16px;
                min-height: 44px;
            }

            .search-trigger {
                min-height: 44px;
                padding: 10px 14px;
            }

            .login-btn {
                min-height: 44px;
                padding: 12px 20px;
            }

            .form-group input {
                min-height: 44px;
                padding: 12px 14px;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }

        /* Print styles */
        @media print {
            /* Hide UI elements */
            .header, .sidebar, .search-modal, .shortcuts-modal, .login-overlay, .loading-overlay,
            .menu-toggle, .theme-toggle, .logout-btn, .copy-btn,
            .sidebar-overlay, .scroll-to-top, .floating-toc, .reading-progress {
                display: none !important;
            }

            /* Reset layout for paper */
            body {
                background: white !important;
                color: black !important;
                font-size: 12pt;
                line-height: 1.5;
            }

            .main {
                margin: 0 !important;
                padding: 0 !important;
                max-width: none !important;
            }

            .app-content {
                margin-left: 0 !important;
            }

            /* Typography for print */
            h1, h2, h3, h4, h5, h6 {
                color: black !important;
                page-break-after: avoid;
                break-after: avoid;
            }

            h1 { font-size: 24pt; margin-top: 0; }
            h2 { font-size: 18pt; margin-top: 24pt; }
            h3 { font-size: 14pt; margin-top: 18pt; }

            p, li {
                orphans: 3;
                widows: 3;
            }

            /* Section page breaks */
            .section {
                page-break-before: auto;
                break-before: auto;
            }

            .module {
                page-break-before: always;
                break-before: page;
            }

            .module:first-of-type {
                page-break-before: avoid;
                break-before: avoid;
            }

            /* Code block formatting */
            .code-block {
                background: #f5f5f5 !important;
                border: 1px solid #ddd !important;
                border-radius: 4px;
                page-break-inside: avoid;
                break-inside: avoid;
            }

            .code-block pre {
                background: transparent !important;
                overflow: visible !important;
                white-space: pre-wrap !important;
                word-wrap: break-word !important;
            }

            .code-block code {
                color: black !important;
                font-size: 10pt;
            }

            .code-header {
                background: #e8e8e8 !important;
                border-bottom: 1px solid #ddd !important;
                color: #333 !important;
            }

            /* Blockquotes and tips */
            blockquote, .tip, .warning, .note {
                border-left: 3px solid #666 !important;
                background: #f9f9f9 !important;
                color: black !important;
                page-break-inside: avoid;
            }

            /* Links - show URL */
            a[href^="http"]::after {
                content: " (" attr(href) ")";
                font-size: 9pt;
                color: #666;
            }

            a {
                color: black !important;
                text-decoration: underline;
            }

            /* Tables */
            table {
                page-break-inside: avoid;
            }

            /* ASCII diagrams */
            .ascii-box {
                background: #f5f5f5 !important;
                border: 1px solid #ddd !important;
                color: black !important;
                page-break-inside: avoid;
            }
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            inset: 0;
            background: var(--bg-primary);
            z-index: 10000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 16px;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .loading-spinner {
            width: 48px;
            height: 48px;
            border: 3px solid var(--border-color);
            border-top-color: var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .loading-error {
            color: var(--warning-color);
            font-size: 13px;
            margin-top: 8px;
        }

        /* Offline Indicator */
        .offline-indicator {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: var(--warning-color);
            color: #000;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s, transform 0.3s;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .offline-indicator.visible {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
        }

        /* Update Notification */
        .update-notification {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: var(--accent-color);
            color: #fff;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 12px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s, transform 0.3s;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .update-notification.visible {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
        }

        .update-notification button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: #fff;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: background 0.2s;
        }

        .update-notification button:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Login Screen */
        .login-overlay {
            position: fixed;
            inset: 0;
            background: var(--bg-primary);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .login-overlay.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .login-container {
            width: 100%;
            max-width: 400px;
            padding: 40px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .login-logo {
            text-align: center;
            margin-bottom: 32px;
        }

        .login-logo h1 {
            font-size: 24px;
            font-weight: 700;
            border: none;
            padding: 0;
            margin: 0;
        }

        .login-logo h1 span {
            color: var(--accent-color);
        }

        .login-logo p {
            color: var(--text-muted);
            font-size: 14px;
            margin-top: 8px;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .form-group input {
            padding: 12px 16px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }

        .form-group input:focus {
            border-color: var(--accent-color);
        }

        .form-group input::placeholder {
            color: var(--text-muted);
        }

        .login-btn {
            padding: 12px 24px;
            background: var(--accent-color);
            color: #fff;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .login-btn:hover {
            background: var(--accent-hover);
        }

        .login-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .login-error {
            padding: 12px 16px;
            background: rgba(248, 81, 73, 0.1);
            border: 1px solid rgba(248, 81, 73, 0.4);
            border-radius: 8px;
            color: #f85149;
            font-size: 14px;
            display: none;
        }

        .login-error.visible {
            display: block;
        }

        /* App hidden until logged in */
        .app-content {
            display: none;
        }

        .app-content.visible {
            display: block;
        }

        /* Logout button in header */
        .logout-btn {
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            cursor: pointer;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }

        .logout-btn:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border-color: var(--text-muted);
        }

        @media (max-width: 768px) {
            .login-container {
                margin: 20px;
                padding: 24px;
            }
        }
    </style>
</head>
<body data-theme="dark">
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading...</div>
    </div>

    <!-- Offline Indicator -->
    <div class="offline-indicator" id="offlineIndicator">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="1" y1="1" x2="23" y2="23"/>
            <path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"/>
            <path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"/>
            <path d="M10.71 5.05A16 16 0 0 1 22.58 9"/>
            <path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"/>
            <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
            <line x1="12" y1="20" x2="12.01" y2="20"/>
        </svg>
        You're offline
    </div>

    <!-- Login Screen -->
    <div class="login-overlay" id="loginOverlay">
        <div class="login-container">
            <div class="login-logo">
                <h1>Claude Code <span>Mastery</span></h1>
                <p>Autonomous Product Development Course</p>
            </div>
            <form class="login-form" id="loginForm" onsubmit="handleLogin(event)">
                <div class="login-error" id="loginError">Invalid email or password. Please try again.</div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" placeholder="Enter your email" required autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" placeholder="Enter your password" required autocomplete="current-password">
                </div>
                <button type="submit" class="login-btn" id="loginBtn">Sign In</button>
            </form>
        </div>
    </div>

    <!-- App Content (hidden until logged in) -->
    <div class="app-content" id="appContent">
    <!-- Header -->
    <header class="header">
        <div class="reading-progress" id="readingProgress"></div>
        <button class="menu-toggle" onclick="toggleSidebar()" aria-label="Toggle menu">
            <svg class="menu-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 12h18M3 6h18M3 18h18"/>
            </svg>
            <svg class="close-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 6L6 18M6 6l12 12"/>
            </svg>
        </button>
        <div class="logo">Claude Code <span>Mastery</span></div>
        <button class="search-trigger" onclick="openSearch()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
            </svg>
            <span>Search documentation...</span>
            <kbd>K</kbd>
        </button>
        <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
            <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none">
                <circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
            </svg>
            <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
        </button>
        <div class="syntax-theme-selector">
            <select id="syntaxThemeSelect" onchange="changeSyntaxTheme(this.value)" aria-label="Syntax theme">
                <option value="auto">Auto</option>
                <option value="github-dark">GitHub Dark</option>
                <option value="github-light">GitHub Light</option>
                <option value="monokai">Monokai</option>
                <option value="atom-one-dark">Atom One Dark</option>
            </select>
        </div>
        <div class="language-selector">
            <select id="languageSelect" onchange="changeLanguage(this.value)" aria-label="Language">
                <option value="en">English</option>
                <option value="es">Espaol</option>
                <option value="zh"></option>
                <option value="ja"></option>
            </select>
        </div>
        <button class="logout-btn" onclick="handleLogout()" aria-label="Logout">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
            <span class="logout-text">Logout</span>
        </button>
    </header>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
        <div class="progress-header">
            <div class="progress-bar-container">
                <div class="progress-bar-fill" id="progressBarFill"></div>
            </div>
            <span class="progress-text" id="progressText">0/9</span>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Getting Started</div>
            <a href="#intro" class="nav-link">Introduction</a>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Module 1</div>
            <a href="#module-1" class="nav-link">Core Philosophy</a>
            <a href="#mental-model" class="nav-link sub">Mental Model Shift</a>
            <a href="#why-works" class="nav-link sub">Why This Works</a>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Module 2</div>
            <a href="#module-2" class="nav-link">CLI Fundamentals</a>
            <a href="#how-works" class="nav-link sub">How It Works</a>
            <a href="#installation" class="nav-link sub">Installation</a>
            <a href="#files-prompts" class="nav-link sub">Files vs Prompts</a>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Module 3</div>
            <a href="#module-3" class="nav-link">Configuration & Control</a>
            <a href="#claude-md" class="nav-link sub">CLAUDE.md</a>
            <a href="#settings-json" class="nav-link sub">settings.json</a>
            <a href="#autonomy-modes" class="nav-link sub">Autonomy Modes</a>
            <a href="#safety" class="nav-link sub">Safety & Guardrails</a>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Module 4</div>
            <a href="#module-4" class="nav-link">Agent Architecture</a>
            <a href="#agent-definition" class="nav-link sub">Agent Definitions</a>
            <a href="#core-agents" class="nav-link sub">Core Agent Team</a>
            <a href="#agent-coordination" class="nav-link sub">Running in Parallel</a>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Module 5</div>
            <a href="#module-5" class="nav-link">Autonomous Mode</a>
            <a href="#autonomous-workflow" class="nav-link sub">Full Workflow</a>
            <a href="#workflow-patterns" class="nav-link sub">Workflow Patterns</a>
            <a href="#iteration-loop" class="nav-link sub">Iteration Loop</a>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Module 6</div>
            <a href="#module-6" class="nav-link">MCP & Extensions</a>
            <a href="#mcp-overview" class="nav-link sub">MCP Overview</a>
            <a href="#custom-mcp" class="nav-link sub">Custom MCP Servers</a>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Module 7</div>
            <a href="#module-7" class="nav-link">Product Delivery</a>
            <a href="#fullstack-dev" class="nav-link sub">Full-Stack Dev</a>
            <a href="#testing-strategy" class="nav-link sub">Testing Strategy</a>
            <a href="#cicd" class="nav-link sub">CI/CD Pipeline</a>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Module 8</div>
            <a href="#module-8" class="nav-link">Marketing & GTM</a>
            <a href="#landing-page" class="nav-link sub">Landing Pages</a>
            <a href="#pitch-deck" class="nav-link sub">Pitch Decks</a>
        </div>
        <div class="nav-section">
            <div class="nav-section-title">Module 9</div>
            <a href="#module-9" class="nav-link">Reference & Templates</a>
            <a href="#claude-md-template" class="nav-link sub">CLAUDE.md Template</a>
            <a href="#quick-ref" class="nav-link sub">Quick Reference</a>
            <a href="#troubleshooting" class="nav-link sub">Troubleshooting</a>
        </div>
    </nav>

    <!-- Search Modal -->
    <div class="search-modal" id="searchModal">
        <div class="search-container">
            <div class="search-input-wrapper">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
                </svg>
                <input type="text" class="search-input" id="searchInput" placeholder="Search documentation..." autocomplete="off">
            </div>
            <div class="search-results" id="searchResults"></div>
            <div class="search-footer">
                <span><kbd></kbd> to select</span>
                <span><kbd></kbd><kbd></kbd> to navigate</span>
                <span><kbd>esc</kbd> to close</span>
            </div>
        </div>
    </div>

    <!-- Keyboard Shortcuts Modal -->
    <div class="shortcuts-modal" id="shortcutsModal">
        <div class="shortcuts-container">
            <div class="shortcuts-header">
                <h3>Keyboard Shortcuts</h3>
                <button class="shortcuts-close" onclick="closeShortcuts()" aria-label="Close shortcuts">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="shortcuts-list">
                <div class="shortcut-group">
                    <h4>Navigation</h4>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd></kbd><kbd>K</kbd></span>
                        <span class="shortcut-desc">Open search</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd>/</kbd></span>
                        <span class="shortcut-desc">Focus search</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd>Esc</kbd></span>
                        <span class="shortcut-desc">Close modal / Clear search</span>
                    </div>
                </div>
                <div class="shortcut-group">
                    <h4>Search Results</h4>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd></kbd><kbd></kbd></span>
                        <span class="shortcut-desc">Navigate results</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd>Enter</kbd></span>
                        <span class="shortcut-desc">Select result</span>
                    </div>
                </div>
                <div class="shortcut-group">
                    <h4>Appearance</h4>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd>T</kbd></span>
                        <span class="shortcut-desc">Toggle dark/light theme</span>
                    </div>
                </div>
                <div class="shortcut-group">
                    <h4>Help</h4>
                    <div class="shortcut-item">
                        <span class="shortcut-keys"><kbd>?</kbd></span>
                        <span class="shortcut-desc">Show this help</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main">
        <!-- Introduction -->
        <section class="section" id="intro">
            <h1>Claude Code CLI Mastery</h1>
            <p class="lead">Autonomous Product Development</p>
            <blockquote>
                <p><strong>From Idea to Shipped Product Using AI as Your Full-Stack Team</strong></p>
            </blockquote>
        </section>

        <!-- Module 1 -->
        <section class="section" id="module-1">
            <h1>Module 1: Core Philosophy</h1>

            <h2 id="mental-model">The Mental Model Shift</h2>
            <p>Claude Code is <strong>not</strong> a code completion tool. It's an <strong>autonomous development partner</strong> capable of operating as a founder + CTO + product team.</p>

            <h3>Traditional AI Coding vs. Autonomous Product Building</h3>
            <table>
                <thead>
                    <tr><th>Traditional Approach</th><th>Autonomous Approach</th></tr>
                </thead>
                <tbody>
                    <tr><td>"Write a function that..."</td><td>"Build a SaaS that..."</td></tr>
                    <tr><td>Line-by-line prompting</td><td>Strategic delegation</td></tr>
                    <tr><td>Human reviews every change</td><td>Human makes key decisions only</td></tr>
                    <tr><td>Code generation</td><td>End-to-end product creation</td></tr>
                    <tr><td>Task executor</td><td>Strategic partner</td></tr>
                </tbody>
            </table>

            <h3>The Founder-CTO Paradigm</h3>
            <p>When you use Claude Code correctly, you operate like a <strong>CEO delegating to a CTO</strong>:</p>
            <div class="ascii-box">You: "Build a B2B invoice management platform with AI categorization"

Claude Code:
 Generates PRD with user stories
 Proposes architecture (frontend, backend, AI, infra)
 Identifies key decision points for you
 Creates implementation backlog
 Builds iteratively, testing as it goes
 Only surfaces decisions that require your input
 Delivers working, tested, documented product</div>

            <h3>The Three Laws of Autonomous Development</h3>
            <ol>
                <li><strong>Specification Over Implementation</strong> - Give Claude <em>what</em> and <em>why</em>, not <em>how</em></li>
                <li><strong>Decision Hierarchy</strong> - Define what decisions require your approval upfront</li>
                <li><strong>Continuous Context</strong> - Maintain project state through structured files</li>
            </ol>

            <hr>

            <h2 id="why-works">Why This Works</h2>
            <p>Claude Code has capabilities most developers underutilize:</p>
            <ol>
                <li><strong>Full Filesystem Access</strong> - Reads, writes, edits any file in your project</li>
                <li><strong>Command Execution</strong> - Runs any shell command (with permission controls)</li>
                <li><strong>Persistent Context</strong> - Maintains understanding across sessions via memory files</li>
                <li><strong>Agentic Reasoning</strong> - Plans multi-step solutions before executing</li>
                <li><strong>Self-Correction</strong> - Detects failures and iterates autonomously</li>
            </ol>

            <h3>The Unlock: Structured Project Orchestration</h3>
            <p>The key is <strong>structuring your project so Claude can self-navigate</strong>:</p>
            <div class="code-block">
                <div class="code-header">
                    <span>Project Structure</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-plaintext">project/
 .claude/
    CLAUDE.md              # Master instructions (always read first)
    decisions/             # Decision log requiring human input
    agents/                # Agent definitions and specializations
    memory/                # Persistent context across sessions
 docs/
    PRD.md                 # Product requirements
    ARCHITECTURE.md        # System design
    BACKLOG.md             # Prioritized work items
 src/                       # Implementation</code></pre>
            </div>
        </section>

        <!-- Module 2 -->
        <section class="section" id="module-2">
            <h1>Module 2: CLI Fundamentals</h1>

            <h2 id="how-works">How Claude Code Actually Works</h2>
            <p>Claude Code operates through a <strong>read-plan-act-verify loop</strong>:</p>
            <div class="ascii-box">
  1. READ: Load context from files, memory, conversation     
  2. PLAN: Determine approach, identify decision points      
  3. ACT: Execute commands, write/edit files                 
  4. VERIFY: Check results, run tests, self-correct          
  5. REPORT: Summarize work, surface decisions needed        
</div>

            <h3 id="installation">Installation & Setup</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash"># Install Claude Code CLI
npm install -g @anthropic-ai/claude-code

# Authenticate (uses Anthropic API key)
claude auth login

# Or set environment variable
export ANTHROPIC_API_KEY="sk-ant-..."

# Verify installation
claude --version</code></pre>
            </div>

            <h3>Basic Commands</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash"># Start interactive session in current directory
claude

# Single command execution
claude "Create a new Next.js project with TypeScript"

# Resume previous session
claude --resume

# Start with specific model
claude --model claude-sonnet-4-20250514

# With extended thinking (for complex tasks)
claude --model claude-sonnet-4-20250514 --thinking

# Headless mode (no interactive prompts)
claude --headless "Run all tests and fix failures"

# Print conversation to stdout
claude --print

# Start in specific directory
claude --cwd /path/to/project</code></pre>
            </div>

            <h3>Understanding Context Loading</h3>
            <p>When you start Claude Code in a directory, it automatically:</p>
            <ol>
                <li><strong>Reads <code>CLAUDE.md</code></strong> in project root (if exists)</li>
                <li><strong>Reads <code>.claude/CLAUDE.md</code></strong> for detailed instructions</li>
                <li><strong>Scans directory structure</strong> to understand project layout</li>
                <li><strong>Loads recent conversation context</strong> (if resuming)</li>
            </ol>
            <p><strong>This is why file-based instructions are critical.</strong></p>

            <hr>

            <h2 id="files-prompts">Files vs. Prompts vs. Instructions</h2>

            <h3>The Hierarchy</h3>
            <div class="ascii-box">
  SYSTEM PROMPT (built-in)                                  
   Core Claude behavior                                  
   Safety guidelines                                     

  CLAUDE.md / .claude/CLAUDE.md                             
   Project-specific instructions                         
   Architecture context                                  
   Decision policies                                     
   Agent definitions                                     

  Session Context                                           
   Files read during session                             
   Commands executed                                     
   Conversation history                                  

  Current Prompt                                            
   Your immediate instruction                            
</div>

            <h3>Files Claude Automatically Reads</h3>
            <table>
                <thead>
                    <tr><th>File</th><th>Purpose</th><th>When Read</th></tr>
                </thead>
                <tbody>
                    <tr><td><code>CLAUDE.md</code></td><td>Primary instructions</td><td>Session start</td></tr>
                    <tr><td><code>.claude/CLAUDE.md</code></td><td>Detailed project config</td><td>Session start</td></tr>
                    <tr><td><code>.claude/settings.json</code></td><td>Behavior configuration</td><td>Session start</td></tr>
                    <tr><td><code>README.md</code></td><td>Project overview</td><td>On request or exploration</td></tr>
                    <tr><td><code>package.json</code> / <code>pyproject.toml</code></td><td>Dependencies</td><td>When relevant</td></tr>
                </tbody>
            </table>

            <h3>Project Structure Best Practice</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>Project Structure</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-plaintext">your-product/
 CLAUDE.md                    # Root-level quick reference
 .claude/
    CLAUDE.md                # Detailed instructions
    settings.json            # Permission configuration
    agents/                  # Agent definitions
       pm-agent.md
       architect-agent.md
       frontend-agent.md
       backend-agent.md
       qa-agent.md
       marketing-agent.md
    memory/                  # Persistent state
       decisions.md
       session-log.md
       blockers.md
    templates/               # Reusable patterns
        prd-template.md
        adr-template.md
        ticket-template.md
 docs/
    PRD.md
    ARCHITECTURE.md
    BACKLOG.md
    adr/                     # Architecture Decision Records
 src/
     ... your code</code></pre>
            </div>
        </section>

        <!-- Module 3 -->
        <section class="section" id="module-3">
            <h1>Module 3: Configuration & Control</h1>

            <h2 id="claude-md">Critical Configuration Files</h2>

            <h3>.claude/CLAUDE.md - The Master Instructions</h3>
            <p>This file is <strong>always read first</strong>. Structure it for maximum autonomy:</p>
            <div class="code-block">
                <div class="code-header">
                    <span>markdown</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-markdown"># Project: [Your Product Name]

## Identity
You are the autonomous development team for [Product]. Operate as a combined
PM + Architect + Engineering team. Make decisions autonomously except where
explicitly noted below.

## Decision Authority

### Decisions Claude Makes Autonomously:
- Implementation details and code patterns
- File structure and organization
- Library/package selection (within constraints)
- Test coverage and strategies
- Refactoring and optimization
- Bug fixes and error handling
- Documentation updates

### Decisions Requiring Human Approval:
- New external service integrations (cost implications)
- Database schema changes (data migration risk)
- Authentication/authorization changes (security)
- Pricing or business logic changes
- Public API contract changes
- Infrastructure scaling decisions

When you encounter a decision requiring approval:
1. Document it in `.claude/memory/decisions.md`
2. Explain the decision, options, and your recommendation
3. Continue with other work while awaiting response
4. Never block on a single decision

## Project Context

### Tech Stack
- Frontend: Next.js 14, TypeScript, Tailwind CSS, shadcn/ui
- Backend: Next.js API routes, Prisma, PostgreSQL
- AI: Claude API via Anthropic SDK
- Testing: Vitest, Playwright
- Deployment: Vercel

### Architecture Principles
1. Server-first with strategic client interactivity
2. Type safety end-to-end (Zod for runtime validation)
3. Optimistic UI with proper error recovery
4. Feature flags for progressive rollout</code></pre>
            </div>

            <hr>

            <h3 id="settings-json">.claude/settings.json - Behavior Control</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>json</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-json">{
  "permissions": {
    "allow_file_write": true,
    "allow_file_delete": false,
    "allow_command_execution": true,
    "allow_network_requests": true,
    "allowed_commands": [
      "npm", "npx", "node", "git", "pnpm",
      "yarn", "vitest", "playwright", "prisma"
    ],
    "blocked_commands": [
      "rm -rf", "sudo", "chmod", "curl", "wget"
    ],
    "allowed_directories": [
      "./src", "./docs", "./tests", "./.claude"
    ],
    "blocked_directories": [
      "./node_modules", "./.git", "./secrets"
    ]
  },
  "autonomy": {
    "mode": "high",
    "auto_approve_tests": true,
    "auto_approve_refactoring": true,
    "auto_fix_lint_errors": true,
    "pause_on_errors": false,
    "max_iterations_without_progress": 5
  },
  "context": {
    "always_read": [
      ".claude/CLAUDE.md",
      "docs/PRD.md",
      "docs/ARCHITECTURE.md"
    ],
    "memory_files": [
      ".claude/memory/decisions.md",
      ".claude/memory/session-log.md"
    ]
  }
}</code></pre>
            </div>

            <!-- Exercise: Configure Settings -->
            <div class="exercise" id="exercise-settings">
                <div class="exercise-header">
                    <span class="exercise-badge">Exercise</span>
                    <h4 class="exercise-title">Configure Your Settings</h4>
                </div>
                <p class="exercise-description">
                    Create a settings.json configuration for a React project. Allow npm, git, and vitest commands.
                    Block dangerous commands like rm -rf and sudo. Set the approval mode to "auto-edit".
                </p>
                <div class="exercise-editor">
                    <textarea class="exercise-textarea" id="exercise-settings-input" placeholder="Write your settings.json here...">{
  "permissions": {
    // Add your configuration here
  }
}</textarea>
                </div>
                <div class="exercise-actions">
                    <button class="exercise-btn exercise-btn-primary" onclick="checkExercise('settings')">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        Check Answer
                    </button>
                    <button class="exercise-btn exercise-btn-secondary" onclick="showHint('settings')">
                        Show Hint
                    </button>
                    <button class="exercise-btn exercise-btn-secondary" onclick="resetExercise('settings')">
                        Reset
                    </button>
                </div>
                <div class="exercise-hint" id="exercise-settings-hint">
                    <strong>Hint:</strong> Include "allowed_commands" with ["npm", "git", "vitest"] and "blocked_commands" with ["rm -rf", "sudo"].
                    Set "approval_mode" to "auto-edit".
                </div>
                <div class="exercise-result" id="exercise-settings-result"></div>
            </div>

            <hr>

            <h2 id="autonomy-modes">Autonomy Modes Explained</h2>

            <h3>Low Autonomy (Training Wheels)</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash">claude --approval-mode full</code></pre>
            </div>
            <ul>
                <li>Asks permission for every file write</li>
                <li>Confirms every command execution</li>
                <li>Maximum visibility, minimum speed</li>
                <li><strong>Use for:</strong> Learning, security-sensitive projects</li>
            </ul>

            <h3>Medium Autonomy (Co-pilot)</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash">claude --approval-mode smart</code></pre>
            </div>
            <ul>
                <li>Auto-approves edits to files you've opened</li>
                <li>Asks for new file creation</li>
                <li>Confirms destructive commands</li>
                <li><strong>Use for:</strong> Active development with oversight</li>
            </ul>

            <h3>High Autonomy (Autopilot)</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash">claude --approval-mode minimal
# Or configure in settings.json</code></pre>
            </div>
            <ul>
                <li>Auto-approves most operations</li>
                <li>Only pauses for explicit blockers</li>
                <li>Maximum speed, requires trust</li>
                <li><strong>Use for:</strong> Well-tested projects, trusted patterns</li>
            </ul>

            <hr>

            <h2 id="safety">Safety & Guardrails</h2>

            <h3>Built-in Protections</h3>
            <p>Claude Code has inherent guardrails:</p>
            <ol>
                <li><strong>No arbitrary code execution</strong> without explicit permission</li>
                <li><strong>No network requests</strong> unless allowed</li>
                <li><strong>Git-aware</strong> - won't modify .git internals</li>
                <li><strong>Reversible operations</strong> - prefers edits over deletes</li>
            </ol>

            <h3>Custom Guardrails in CLAUDE.md</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>markdown</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-markdown">## Safety Rules (NEVER VIOLATE)

1. NEVER delete data from production databases
2. NEVER commit API keys or secrets
3. NEVER modify authentication without explicit approval
4. NEVER push directly to main branch
5. NEVER run commands with sudo

## If Uncertain

When facing ambiguity:
1. Document the uncertainty in `.claude/memory/blockers.md`
2. Propose 2-3 options with tradeoffs
3. Continue with lowest-risk option if time-sensitive
4. Flag for human review in next summary</code></pre>
            </div>
        </section>

        <!-- Module 4 -->
        <section class="section" id="module-4">
            <h1>Module 4: Agent & Skill Architecture</h1>

            <h2 id="agent-definition">What "Agents" Really Mean in Claude Code</h2>
            <p>In Claude Code, an "agent" is <strong>a specialized persona with defined expertise, responsibilities, and communication patterns</strong>. It's not a separate process - it's a mode of operation Claude adopts based on instructions.</p>

            <h3>Agent Definition Structure</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>markdown</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-markdown">&lt;!-- .claude/agents/[agent-name].md --&gt;

# [Agent Name] Agent

## Identity
[Who this agent is and what it specializes in]

## Responsibilities
[Specific tasks this agent owns]

## Outputs
[What artifacts this agent produces]

## Communication Style
[How this agent writes and responds]

## Constraints
[What this agent should NOT do]

## Handoff Protocol
[How to transfer to other agents]</code></pre>
            </div>

            <!-- Exercise: Create Agent -->
            <div class="exercise" id="exercise-agent">
                <div class="exercise-header">
                    <span class="exercise-badge">Exercise</span>
                    <h4 class="exercise-title">Create a QA Agent</h4>
                </div>
                <p class="exercise-description">
                    Write an agent definition for a QA Engineer. Include an Identity section describing the role,
                    and a Responsibilities section with at least 3 testing-related tasks.
                </p>
                <div class="exercise-editor">
                    <textarea class="exercise-textarea" id="exercise-agent-input" placeholder="Write your agent definition here..."># QA Engineer Agent

## Identity
<!-- Describe the agent's role -->

## Responsibilities
<!-- List testing responsibilities --></textarea>
                </div>
                <div class="exercise-actions">
                    <button class="exercise-btn exercise-btn-primary" onclick="checkExercise('agent')">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        Check Answer
                    </button>
                    <button class="exercise-btn exercise-btn-secondary" onclick="showHint('agent')">
                        Show Hint
                    </button>
                    <button class="exercise-btn exercise-btn-secondary" onclick="resetExercise('agent')">
                        Reset
                    </button>
                </div>
                <div class="exercise-hint" id="exercise-agent-hint">
                    <strong>Hint:</strong> Identity should describe QA focus on quality, testing, and bug prevention.
                    Responsibilities might include: writing test cases, running E2E tests, code review for quality, bug reporting.
                </div>
                <div class="exercise-result" id="exercise-agent-result"></div>
            </div>

            <hr>

            <h2 id="core-agents">The Core Agent Team</h2>

            <h3>Product Manager Agent</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>markdown</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-markdown"># Product Manager Agent

## Identity
You are a senior Product Manager focused on user outcomes, market fit, and
prioritization. You translate business goals into clear, actionable requirements.

## Responsibilities
- Write and maintain PRDs
- Define user stories and acceptance criteria
- Prioritize backlog based on value/effort
- Identify MVP scope vs future iterations
- Document competitive analysis
- Define success metrics and KPIs

## Outputs
- `docs/PRD.md` - Product Requirements Document
- `docs/BACKLOG.md` - Prioritized work items
- `docs/user-stories/` - Detailed user stories
- `docs/competitive-analysis.md` - Market context</code></pre>
            </div>

            <h3>Frontend Agent</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>typescript</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-typescript">// Example Component Pattern from Frontend Agent
// src/components/Button/Button.tsx
import { cn } from '@/lib/utils'
import { ButtonProps } from './Button.types'

export function Button({
  children,
  variant = 'primary',
  size = 'md',
  className,
  ...props
}: ButtonProps) {
  return (
    &lt;button
      className={cn(
        'inline-flex items-center justify-center rounded-md font-medium',
        variants[variant],
        sizes[size],
        className
      )}
      {...props}
    &gt;
      {children}
    &lt;/button&gt;
  )
}</code></pre>
            </div>

            <h3>Backend Agent</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>typescript</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-typescript">// Example API Route Pattern from Backend Agent
// src/app/api/users/route.ts
import { NextResponse } from 'next/server'
import { z } from 'zod'
import { prisma } from '@/lib/db'
import { withAuth } from '@/lib/auth'
import { withRateLimit } from '@/lib/rate-limit'

const createUserSchema = z.object({
  email: z.string().email(),
  name: z.string().min(2).max(100),
})

export const POST = withRateLimit(
  withAuth(async (req, { user }) =&gt; {
    try {
      const body = await req.json()
      const data = createUserSchema.parse(body)

      const newUser = await prisma.user.create({
        data: {
          ...data,
          createdBy: user.id,
        },
      })

      return NextResponse.json(newUser, { status: 201 })
    } catch (error) {
      if (error instanceof z.ZodError) {
        return NextResponse.json(
          { error: 'Validation failed', details: error.errors },
          { status: 400 }
        )
      }
      console.error('Create user failed:', error)
      return NextResponse.json(
        { error: 'Internal server error' },
        { status: 500 }
      )
    }
  })
)</code></pre>
            </div>

            <hr>

            <h2 id="agent-coordination">Running Agents in Parallel</h2>

            <h3>The Orchestration Pattern</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>markdown</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-markdown">&lt;!-- In your prompt to Claude Code --&gt;

I want you to operate in multi-agent mode for this task:

1. **PM Agent**: Read the feature request and create user stories
2. **Architect Agent**: Design the technical approach
3. **Frontend/Backend Agents**: Implement in parallel
4. **QA Agent**: Create test plan and tests
5. **Marketing Agent**: Update product messaging

Execute these in the optimal order, parallelizing where possible.
Document handoffs in `.claude/memory/agent-handoffs.md`.</code></pre>
            </div>

            <h3>Agent Coordination in Practice</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash"># Start a session with agent orchestration
claude "
Switch to PM Agent mode. Read the feature request in docs/requests/oauth.md
and produce user stories in docs/user-stories/oauth.md.

Then switch to Architect Agent mode and produce an ADR for the OAuth
implementation approach.

Then coordinate Frontend and Backend agents to implement, with QA
creating tests alongside.

Log all agent transitions in .claude/memory/agent-log.md
"</code></pre>
            </div>
        </section>

        <!-- Module 5 -->
        <section class="section" id="module-5">
            <h1>Module 5: Autonomous Development Mode</h1>

            <h2 id="autonomous-workflow">The Full Autonomous Workflow</h2>
            <p>This is the core of the crash course: how to set up Claude Code so you give it a product idea and it builds end-to-end with minimal intervention.</p>

            <h3>The Autonomous Development Prompt Template</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>markdown</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-markdown"># Autonomous Product Development Request

## Product Vision
[Describe what you want to build in 2-3 sentences]

## Target Users
[Who is this for?]

## Core Problem
[What problem does this solve?]

## Key Features (MVP)
1. [Feature 1]
2. [Feature 2]
3. [Feature 3]

## Success Criteria
[How do we know it's done?]

## My Role
I will:
- Approve key architectural decisions
- Provide any external credentials needed
- Review PRD before implementation begins
- Do final acceptance testing

You will:
- Generate all documentation
- Make all implementation decisions within constraints
- Only surface truly critical decisions
- Build, test, and iterate until complete

## Decision Escalation Rules
Only ask me about:
- Paid service selection (cost implication)
- Database schema changes after v1
- Security/auth architecture
- User-facing copy and branding
- Anything that can't be easily reversed

Do NOT ask me about:
- Code implementation details
- File/folder structure
- Library selection (within tech stack)
- Refactoring decisions
- Test strategies
- Internal naming conventions

## Start
Begin by generating the PRD in docs/PRD.md, then wait for my approval
before proceeding to architecture and implementation.</code></pre>
            </div>

            <hr>

            <h2 id="workflow-patterns">Workflow Patterns</h2>

            <h3>Pattern 1: PRD  Architecture  Build</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash"># Step 1: Generate PRD
claude "
Activate PM Agent. Based on this product idea:
[Your idea]

Generate a complete PRD in docs/PRD.md including:
- Problem statement
- User personas
- User stories
- Feature specifications
- Success metrics
- MVP scope vs future

Wait for my approval before proceeding.
"

# Step 2: Human approves or iterates on PRD
# ...review docs/PRD.md, provide feedback...

claude "PRD approved with these changes: [feedback]. Proceed to architecture."

# Step 3: Architecture (automatic transition)
# Claude activates Architect Agent, produces:
# - docs/ARCHITECTURE.md
# - docs/adr/001-initial-architecture.md
# - docs/api-spec.yaml
# - docs/BACKLOG.md with implementation tickets

# Step 4: Human approves architecture
claude "Architecture approved. Begin implementation."

# Step 5: Autonomous implementation
# Claude orchestrates Frontend/Backend/QA agents
# Works through BACKLOG.md
# Surfaces only critical decisions
# Tests as it builds</code></pre>
            </div>

            <h3>Pattern 2: Feature Addition to Existing Product</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash">claude "
New feature request: Add team workspaces with role-based access.

1. PM Agent: Add feature to PRD, create user stories
2. Architect Agent: Design workspace/roles schema, create ADR
3. Backend Agent: Implement API endpoints and migrations
4. Frontend Agent: Implement workspace UI
5. QA Agent: Create and run tests

Parallelize where possible. Update BACKLOG.md.
Only surface decisions about:
- Role permission structure (security)
- Pricing tier implications
"</code></pre>
            </div>

            <hr>

            <h2 id="iteration-loop">Autonomous Iteration Loop</h2>
            <p>When Claude is building autonomously, it follows this loop:</p>
            <div class="ascii-box">
                    AUTONOMOUS LOOP                          

  1. Load Context                                            
     - Read CLAUDE.md and active agent                       
     - Load PRD, Architecture, current backlog item          
     - Check memory for previous session state               
                                                             
  2. Plan                                                    
     - Break current ticket into implementation steps        
     - Identify files to modify/create                       
     - Anticipate edge cases and tests needed                
                                                             
  3. Implement                                               
     - Write code incrementally                              
     - Run type checker / linter after changes               
     - Fix issues immediately                                
                                                             
  4. Verify                                                  
     - Run related unit tests                                
     - Run related integration tests                         
     - If failures: diagnose and fix (go to step 3)          
                                                             
  5. Document                                                
     - Update relevant documentation                         
     - Log progress in session-log.md                        
     - Note any decisions made                               
                                                             
  6. Next Item                                               
     - Mark ticket complete in BACKLOG.md                    
     - Pick next highest priority item                       
     - Check if human decision needed (if so, pause)         
     - Continue loop                                         
</div>
        </section>

        <!-- Module 6 -->
        <section class="section" id="module-6">
            <h1>Module 6: MCP, Tools & Extensions</h1>

            <h2 id="mcp-overview">Model Context Protocol (MCP)</h2>
            <p>MCP allows Claude Code to connect to external services and tools through a standardized protocol.</p>

            <h3>What MCP Provides</h3>
            <div class="ascii-box">
                     MCP Architecture                        

                                                             
  Claude Code                                                
                                                            
                                                            
  MCP Client                                                 
                                                            
        MCP Server: GitHub (issues, PRs, repos)          
        MCP Server: Slack (messages, channels)           
        MCP Server: Database (queries, schemas)          
        MCP Server: Custom API (your services)           
        MCP Server: Local Tools (filesystem, etc.)       
                                                             
</div>

            <h3>Built-in MCP Servers</h3>
            <table>
                <thead>
                    <tr><th>Server</th><th>Capabilities</th><th>Use Case</th></tr>
                </thead>
                <tbody>
                    <tr><td>Filesystem</td><td>Read/write files</td><td>Default, always active</td></tr>
                    <tr><td>Shell</td><td>Execute commands</td><td>Default, with permissions</td></tr>
                    <tr><td>Browser</td><td>Web search/fetch</td><td>Research, documentation</td></tr>
                    <tr><td>Git</td><td>Commits, branches, history</td><td>Version control</td></tr>
                </tbody>
            </table>

            <h3>Configuration in settings.json</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>json</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-json">{
  "mcp": {
    "servers": {
      "github": {
        "command": "npx",
        "args": ["-y", "@modelcontextprotocol/server-github"],
        "env": {
          "GITHUB_TOKEN": "${GITHUB_TOKEN}"
        }
      },
      "postgres": {
        "command": "npx",
        "args": ["-y", "@modelcontextprotocol/server-postgres"],
        "env": {
          "DATABASE_URL": "${DATABASE_URL}"
        }
      },
      "slack": {
        "command": "npx",
        "args": ["-y", "@modelcontextprotocol/server-slack"],
        "env": {
          "SLACK_TOKEN": "${SLACK_TOKEN}"
        }
      }
    }
  }
}</code></pre>
            </div>

            <hr>

            <h2 id="custom-mcp">Building Custom MCP Servers</h2>
            <p>For proprietary tools and APIs, you can build custom MCP servers.</p>

            <h3>MCP Server Template (TypeScript)</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>typescript</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-typescript">// mcp-server-myapi/src/index.ts
import { Server } from "@modelcontextprotocol/sdk/server/index.js";
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";

const server = new Server(
  { name: "my-api-server", version: "1.0.0" },
  { capabilities: { tools: {} } }
);

// Define tools
server.setRequestHandler("tools/list", async () =&gt; ({
  tools: [
    {
      name: "get_customer",
      description: "Retrieve customer information by ID",
      inputSchema: {
        type: "object",
        properties: {
          customerId: { type: "string", description: "Customer ID" }
        },
        required: ["customerId"]
      }
    }
  ]
}));

// Handle tool calls
server.setRequestHandler("tools/call", async (request) =&gt; {
  const { name, arguments: args } = request.params;

  switch (name) {
    case "get_customer":
      const customer = await fetchCustomer(args.customerId);
      return { content: [{ type: "text", text: JSON.stringify(customer) }] };

    default:
      throw new Error(`Unknown tool: ${name}`);
  }
});

// Start server
const transport = new StdioServerTransport();
await server.connect(transport);</code></pre>
            </div>
        </section>

        <!-- Module 7 -->
        <section class="section" id="module-7">
            <h1>Module 7: Product Delivery Pipeline</h1>

            <h2 id="fullstack-dev">Full-Stack Application Development</h2>

            <h3>The Complete Build Prompt</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>markdown</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-markdown"># Full-Stack Application Build Request

## Product: InvoiceAI - AI-Powered Invoice Management

## Tech Stack (Non-negotiable)
- Frontend: Next.js 14, TypeScript, Tailwind, shadcn/ui
- Backend: Next.js API Routes, Prisma, PostgreSQL
- AI: Claude API for invoice parsing
- Auth: NextAuth.js with magic links
- Deployment: Vercel + Supabase
- Testing: Vitest + Playwright

## Core Features (MVP)
1. User authentication (magic link + Google OAuth)
2. Invoice upload (PDF/image)
3. AI parsing of invoice data
4. CRUD for invoices
5. Dashboard with key metrics
6. Email notifications

## Build Sequence
1. Set up project with all dependencies
2. Implement auth system
3. Create database schema
4. Build invoice upload + AI parsing
5. Implement invoice CRUD
6. Create dashboard
7. Add email notifications
8. Write comprehensive tests
9. Prepare deployment

## Quality Requirements
- 80%+ test coverage
- All Core Web Vitals green
- WCAG 2.1 AA accessibility
- Full TypeScript strict mode
- No security vulnerabilities (npm audit)</code></pre>
            </div>

            <hr>

            <h2 id="testing-strategy">Testing Strategy</h2>

            <h3>Comprehensive Test Setup</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash">claude "
Set up the complete testing infrastructure:

1. Unit Tests (Vitest)
   - Test utilities and helpers
   - Test React hooks
   - Test API route handlers (mocked DB)

2. Integration Tests (Vitest + Supertest)
   - Test API routes with real DB (test container)
   - Test auth flows
   - Test AI integration (mocked responses)

3. E2E Tests (Playwright)
   - Critical user journeys
   - Cross-browser (Chrome, Firefox, Safari)
   - Mobile viewport tests
   - Visual regression (optional)

4. Test Utilities
   - Factory functions for test data
   - Mock providers (auth, AI)
   - Database seeding scripts

Create the following structure:
tests/
 setup.ts
 factories/
 mocks/
 unit/
 integration/
 e2e/
"</code></pre>
            </div>

            <hr>

            <h2 id="cicd">CI/CD Pipeline</h2>

            <h3>GitHub Actions Setup</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>yaml</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-yaml"># .github/workflows/deploy.yml
name: Deploy

on:
  push:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      - run: npm ci
      - run: npm test
      - run: npm run build

  deploy:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod'</code></pre>
            </div>
        </section>

        <!-- Module 8 -->
        <section class="section" id="module-8">
            <h1>Module 8: Marketing & GTM Automation</h1>

            <h2 id="landing-page">Landing Page Generation</h2>

            <h3>Complete Landing Page</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash">claude "
Create the InvoiceAI landing page:

Route: src/app/(marketing)/page.tsx

Sections:
1. Hero - 'Get Paid Faster with AI-Powered Invoicing'
2. Problem - Pain points of manual invoicing
3. Solution - How InvoiceAI solves it
4. Features (3-4 key features)
5. How It Works - 3-step process with illustrations
6. Social Proof - Testimonials, trust badges
7. Pricing - 3 tiers: Free, Pro, Enterprise
8. FAQ - 5-6 common questions
9. Final CTA - Strong close with trial offer

Style:
- Modern, clean, professional
- Mobile-first responsive
- Smooth scroll animations (Framer Motion)
- Fast loading (no heavy images)
"</code></pre>
            </div>

            <hr>

            <h2 id="pitch-deck">Pitch Deck Generation</h2>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash">claude "
Create pitch deck content in marketing/pitch-deck.md:

Slide Structure:
1. Title Slide - Company, tagline
2. Problem - The pain of manual invoicing
3. Solution - InvoiceAI overview
4. Product - Key features demo
5. Market - TAM/SAM/SOM
6. Business Model - Revenue streams
7. Traction - Metrics, milestones
8. Competition - Differentiation matrix
9. Team - Key members
10. Ask - What we're raising, use of funds

For each slide provide:
- Headline
- Key points (3 max)
- Supporting data
- Visual suggestion

Make it compelling for seed-stage investors.
"</code></pre>
            </div>
        </section>

        <!-- Module 9 -->
        <section class="section" id="module-9">
            <h1>Module 9: Reference Templates & Examples</h1>

            <h2 id="claude-md-template">Complete CLAUDE.md Template</h2>
            <div class="code-block">
                <div class="code-header">
                    <span>markdown</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-markdown"># Project: [Your Project Name]

## Identity
You are the autonomous development team for [Project Name]. Operate as a
combined PM + Architect + Engineering team. Make decisions autonomously
except where explicitly noted below.

## Project Overview
[2-3 sentence description of what we're building]

## Tech Stack
- Frontend: [frameworks, libraries]
- Backend: [frameworks, databases]
- AI: [models, services]
- Deployment: [platforms]
- Testing: [frameworks]

## Decision Authority

### Autonomous Decisions (no approval needed):
- Implementation details and code patterns
- File structure and organization
- Library selection within approved stack
- Test strategies and coverage
- Refactoring and optimization
- Bug fixes and error handling
- Documentation updates
- Development dependencies

### Decisions Requiring Approval:
- New external service integrations
- Database schema changes
- Authentication/authorization changes
- Pricing or business logic changes
- Public API contract changes
- Infrastructure cost increases
- Security-related changes

## Code Standards

### General:
- TypeScript strict mode always
- No `any` types
- Meaningful variable names
- Comments for complex logic only
- Keep files under 300 lines

### Frontend:
- Server Components by default
- Client Components only when needed
- Tailwind for styling
- Accessible (WCAG 2.1 AA)

### Backend:
- Validate all inputs with Zod
- Handle all errors explicitly
- Log with context
- Use transactions for multi-step operations

### Testing:
- Unit tests for utilities
- Integration tests for APIs
- E2E tests for critical paths
- 80% coverage minimum

## Quality Gates

Before marking any work complete:
1. TypeScript compiles without errors
2. Linter passes
3. Related tests pass
4. No security vulnerabilities (npm audit)
5. Documentation updated</code></pre>
            </div>

            <hr>

            <h2 id="quick-ref">Quick Reference Card</h2>
            <div class="ascii-box">
              CLAUDE CODE CLI QUICK REFERENCE                  

                                                               
  STARTUP                                                      
   
  claude                    Start interactive session          
  claude --resume           Resume last session                
  claude --model &lt;model&gt;    Use specific model                 
  claude --thinking         Enable extended thinking           
  claude "prompt"           Single command execution           
                                                               
  MODES                                                        
   
  --approval-mode full      Approve everything                 
  --approval-mode smart     Smart auto-approval                
  --approval-mode minimal   Maximum autonomy                   
  --headless                No interactive prompts             
                                                               
  KEY FILES                                                    
   
  CLAUDE.md                 Root project instructions          
  .claude/CLAUDE.md         Detailed configuration             
  .claude/settings.json     Permissions and autonomy           
  .claude/agents/           Agent definitions                  
  .claude/memory/           Persistent state                   
                                                               
  AUTONOMY SETUP                                               
   
  1. Create .claude/CLAUDE.md with decision authority          
  2. Define agents in .claude/agents/                          
  3. Set permissions in .claude/settings.json                  
  4. Create docs/PRD.md, docs/ARCHITECTURE.md                  
  5. Run: claude "Begin autonomous development"                
                                                               
  AGENT ACTIVATION                                             
   
  "Activate PM Agent and..."                                   
  "Switch to Architect Agent mode..."                          
  "As QA Agent, review..."                                     
                                                               
</div>

            <hr>

            <h2 id="troubleshooting">Troubleshooting Guide</h2>

            <h3>Claude Stops Making Progress</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash"># Check for blockers
cat .claude/memory/blockers.md

# Resume with context
claude --resume "Continue from where you left off. Check blockers.md first."</code></pre>
            </div>

            <h3>Claude Asks Too Many Questions</h3>
            <p>Update <code>.claude/CLAUDE.md</code>:</p>
            <div class="code-block">
                <div class="code-header">
                    <span>markdown</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-markdown">## Autonomy Rules
- Make decisions autonomously for anything reversible
- Only ask about: [list specific things]
- Default to industry best practices
- Document decisions, don't ask about them</code></pre>
            </div>

            <h3>Claude Makes Wrong Architectural Decisions</h3>
            <p>Add constraints to CLAUDE.md:</p>
            <div class="code-block">
                <div class="code-header">
                    <span>markdown</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-markdown">## Technical Constraints (Non-negotiable)
- Must use PostgreSQL (not MySQL, SQLite)
- Must use Next.js App Router (not Pages)
- Must use TypeScript strict mode
- No GraphQL (REST only for this project)</code></pre>
            </div>

            <h3>Running Out of Context</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>bash</span>
                    <button class="copy-btn" onclick="copyCode(this)">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <pre><code class="language-bash"># Start fresh session with summary
claude "
Starting new session. Previous work summary:
- Completed: [list]
- In progress: [current task]
- Blockers: [issues]

Continue from [specific point].
"</code></pre>
            </div>

            <hr>

            <h2>The Path Forward</h2>
            <p>You now have the complete framework for using Claude Code as an autonomous product development system. The key principles:</p>
            <ol>
                <li><strong>Structure enables autonomy</strong> - Well-organized projects let Claude self-navigate</li>
                <li><strong>Decisions have hierarchy</strong> - Define what needs approval upfront</li>
                <li><strong>Agents provide focus</strong> - Specialized personas produce better outputs</li>
                <li><strong>Memory persists context</strong> - Files carry knowledge across sessions</li>
                <li><strong>Iterate and refine</strong> - Your CLAUDE.md improves with each project</li>
            </ol>
            <p>Start with the mini project exercise, then scale up to your real products. Each project will teach you new patterns to add to your autonomous development system.</p>
        </section>
    </main>

    <!-- Scroll to Top Button -->
    <button class="scroll-to-top" id="scrollToTop" aria-label="Scroll to top" title="Scroll to top">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 15l-6-6-6 6"/>
        </svg>
    </button>

    <!-- Floating Table of Contents -->
    <nav class="floating-toc" id="floatingToc" aria-label="Table of contents">
        <div class="floating-toc-header">On this page</div>
        <ul class="floating-toc-list" id="floatingTocList"></ul>
    </nav>
    </div><!-- End of app-content -->

    <script>
        // Search data
        const searchData = [
            { id: 'intro', title: 'Introduction', content: 'Claude Code CLI Mastery Autonomous Product Development From Idea to Shipped Product Using AI as Your Full-Stack Team' },
            { id: 'module-1', title: 'Module 1: Core Philosophy', content: 'The Mental Model Shift Claude Code autonomous development partner founder CTO product team' },
            { id: 'mental-model', title: 'Mental Model Shift', content: 'Traditional AI Coding vs Autonomous Product Building code completion strategic delegation' },
            { id: 'why-works', title: 'Why This Works', content: 'Full Filesystem Access Command Execution Persistent Context Agentic Reasoning Self-Correction' },
            { id: 'module-2', title: 'Module 2: CLI Fundamentals', content: 'How Claude Code Actually Works read-plan-act-verify loop' },
            { id: 'how-works', title: 'How It Works', content: 'READ PLAN ACT VERIFY REPORT context files memory conversation' },
            { id: 'installation', title: 'Installation & Setup', content: 'npm install claude-code auth login ANTHROPIC_API_KEY' },
            { id: 'files-prompts', title: 'Files vs Prompts vs Instructions', content: 'SYSTEM PROMPT CLAUDE.md Session Context hierarchy' },
            { id: 'module-3', title: 'Module 3: Configuration & Control', content: 'Critical Configuration Files settings.json permissions autonomy' },
            { id: 'claude-md', title: 'CLAUDE.md', content: 'Master Instructions Identity Decision Authority Tech Stack Architecture Principles' },
            { id: 'settings-json', title: 'settings.json', content: 'Behavior Control permissions allow_file_write allow_command_execution allowed_commands blocked_commands' },
            { id: 'autonomy-modes', title: 'Autonomy Modes', content: 'Low Autonomy Medium Autonomy High Autonomy approval-mode full smart minimal' },
            { id: 'safety', title: 'Safety & Guardrails', content: 'Built-in Protections Custom Guardrails NEVER VIOLATE rules' },
            { id: 'module-4', title: 'Module 4: Agent & Skill Architecture', content: 'What Agents Really Mean specialized persona expertise responsibilities' },
            { id: 'agent-definition', title: 'Agent Definitions', content: 'Agent Definition Structure Identity Responsibilities Outputs Communication Style Constraints Handoff Protocol' },
            { id: 'core-agents', title: 'Core Agent Team', content: 'Product Manager Agent Architect Agent Frontend Agent Backend Agent QA Agent Marketing Agent' },
            { id: 'agent-coordination', title: 'Running Agents in Parallel', content: 'Orchestration Pattern multi-agent mode coordinate' },
            { id: 'module-5', title: 'Module 5: Autonomous Development Mode', content: 'Full Autonomous Workflow product idea builds end-to-end' },
            { id: 'autonomous-workflow', title: 'Full Workflow', content: 'Autonomous Development Prompt Template Product Vision Target Users Core Problem Key Features' },
            { id: 'workflow-patterns', title: 'Workflow Patterns', content: 'PRD Architecture Build Feature Addition Bug Fix' },
            { id: 'iteration-loop', title: 'Iteration Loop', content: 'AUTONOMOUS LOOP Load Context Plan Implement Verify Document Next Item' },
            { id: 'module-6', title: 'Module 6: MCP, Tools & Extensions', content: 'Model Context Protocol external services tools standardized protocol' },
            { id: 'mcp-overview', title: 'MCP Overview', content: 'MCP Architecture GitHub Slack Database Custom API Local Tools' },
            { id: 'custom-mcp', title: 'Custom MCP Servers', content: 'Building Custom MCP Servers TypeScript Server template' },
            { id: 'module-7', title: 'Module 7: Product Delivery Pipeline', content: 'Full-Stack Application Development Complete Build Prompt' },
            { id: 'fullstack-dev', title: 'Full-Stack Development', content: 'InvoiceAI Next.js TypeScript Tailwind Prisma PostgreSQL' },
            { id: 'testing-strategy', title: 'Testing Strategy', content: 'Unit Tests Integration Tests E2E Tests Vitest Playwright' },
            { id: 'cicd', title: 'CI/CD Pipeline', content: 'GitHub Actions Deploy staging production Vercel' },
            { id: 'module-8', title: 'Module 8: Marketing & GTM Automation', content: 'Landing Page Generation Product Copy Pitch Deck' },
            { id: 'landing-page', title: 'Landing Pages', content: 'Hero Problem Solution Features How It Works Social Proof Pricing FAQ' },
            { id: 'pitch-deck', title: 'Pitch Decks', content: 'Title Problem Solution Product Market Business Model Traction Competition Team Ask' },
            { id: 'module-9', title: 'Module 9: Reference Templates & Examples', content: 'Complete CLAUDE.md Template Quick Reference Card' },
            { id: 'claude-md-template', title: 'CLAUDE.md Template', content: 'Complete template Identity Project Overview Tech Stack Decision Authority Code Standards Quality Gates' },
            { id: 'quick-ref', title: 'Quick Reference', content: 'STARTUP MODES KEY FILES AUTONOMY SETUP AGENT ACTIVATION commands' },
            { id: 'troubleshooting', title: 'Troubleshooting', content: 'Claude Stops Making Progress Asks Too Many Questions Wrong Architectural Decisions Running Out of Context' }
        ];

        // Initialize Fuse.js
        const fuse = new Fuse(searchData, {
            keys: ['title', 'content'],
            threshold: 0.4,
            includeMatches: true
        });

        let selectedIndex = -1;

        // Syntax theme options
        const syntaxThemes = ['github-dark', 'github-light', 'monokai', 'atom-one-dark'];

        function setSyntaxTheme(themeName) {
            syntaxThemes.forEach(theme => {
                const el = document.getElementById('hljs-' + theme);
                if (el) el.disabled = theme !== themeName;
            });
        }

        function getAutoSyntaxTheme() {
            const isDark = document.body.getAttribute('data-theme') === 'dark';
            return isDark ? 'github-dark' : 'github-light';
        }

        function applySyntaxTheme() {
            const syntaxPref = localStorage.getItem('syntaxTheme') || 'auto';
            if (syntaxPref === 'auto') {
                setSyntaxTheme(getAutoSyntaxTheme());
            } else {
                setSyntaxTheme(syntaxPref);
            }
        }

        function changeSyntaxTheme(value) {
            localStorage.setItem('syntaxTheme', value);
            applySyntaxTheme();
        }

        // Theme toggle
        function toggleTheme() {
            const body = document.body;
            const isDark = body.getAttribute('data-theme') === 'dark';
            body.setAttribute('data-theme', isDark ? 'light' : 'dark');

            document.querySelector('.sun-icon').style.display = isDark ? 'block' : 'none';
            document.querySelector('.moon-icon').style.display = isDark ? 'none' : 'block';

            localStorage.setItem('theme', isDark ? 'light' : 'dark');

            // Update syntax theme if on auto
            applySyntaxTheme();
        }

        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            document.body.setAttribute('data-theme', savedTheme);
            document.querySelector('.sun-icon').style.display = savedTheme === 'light' ? 'block' : 'none';
            document.querySelector('.moon-icon').style.display = savedTheme === 'light' ? 'none' : 'block';
        }

        // Load saved syntax theme
        const savedSyntaxTheme = localStorage.getItem('syntaxTheme') || 'auto';
        document.getElementById('syntaxThemeSelect').value = savedSyntaxTheme;
        applySyntaxTheme();

        // ========================================
        // Internationalization (i18n)
        // ========================================
        const translations = {
            en: {
                search: 'Search documentation...',
                logout: 'Logout',
                markComplete: 'Mark as Complete',
                completed: 'Completed',
                checkAnswer: 'Check Answer',
                showHint: 'Show Hint',
                reset: 'Reset',
                exercise: 'Exercise',
                progress: 'Progress',
                onThisPage: 'On this page',
                loading: 'Loading...',
                offline: "You're offline",
                minRead: 'min read',
                scrollToTop: 'Scroll to top'
            },
            es: {
                search: 'Buscar documentacin...',
                logout: 'Cerrar sesin',
                markComplete: 'Marcar como completado',
                completed: 'Completado',
                checkAnswer: 'Verificar respuesta',
                showHint: 'Mostrar pista',
                reset: 'Reiniciar',
                exercise: 'Ejercicio',
                progress: 'Progreso',
                onThisPage: 'En esta pgina',
                loading: 'Cargando...',
                offline: 'Sin conexin',
                minRead: 'min de lectura',
                scrollToTop: 'Ir arriba'
            },
            zh: {
                search: '...',
                logout: '',
                markComplete: '',
                completed: '',
                checkAnswer: '',
                showHint: '',
                reset: '',
                exercise: '',
                progress: '',
                onThisPage: '',
                loading: '...',
                offline: '',
                minRead: '',
                scrollToTop: ''
            },
            ja: {
                search: '...',
                logout: '',
                markComplete: '',
                completed: '',
                checkAnswer: '',
                showHint: '',
                reset: '',
                exercise: '',
                progress: '',
                onThisPage: '',
                loading: '...',
                offline: '',
                minRead: '',
                scrollToTop: ''
            }
        };

        let currentLanguage = localStorage.getItem('language') || 'en';

        function t(key) {
            return translations[currentLanguage]?.[key] || translations.en[key] || key;
        }

        function changeLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('language', lang);
            document.documentElement.setAttribute('lang', lang);
            applyTranslations();
        }

        function applyTranslations() {
            // Update search placeholder
            const searchInput = document.getElementById('searchInput');
            if (searchInput) searchInput.placeholder = t('search');

            // Update search trigger text
            const searchTrigger = document.querySelector('.search-trigger span');
            if (searchTrigger) searchTrigger.textContent = t('search');

            // Update logout text
            const logoutText = document.querySelector('.logout-text');
            if (logoutText) logoutText.textContent = t('logout');

            // Update floating TOC header
            const tocHeader = document.querySelector('.floating-toc-header');
            if (tocHeader) tocHeader.textContent = t('onThisPage');

            // Update loading text
            const loadingText = document.querySelector('.loading-text');
            if (loadingText) loadingText.textContent = t('loading');

            // Update offline indicator
            const offlineIndicator = document.getElementById('offlineIndicator');
            if (offlineIndicator) {
                const textNode = offlineIndicator.lastChild;
                if (textNode && textNode.nodeType === Node.TEXT_NODE) {
                    textNode.textContent = ' ' + t('offline');
                }
            }

            // Update scroll to top title
            const scrollBtn = document.getElementById('scrollToTop');
            if (scrollBtn) scrollBtn.title = t('scrollToTop');
        }

        // Initialize language
        document.getElementById('languageSelect').value = currentLanguage;
        document.documentElement.setAttribute('lang', currentLanguage);
        applyTranslations();

        // Sidebar toggle
        function toggleSidebar() {
            document.body.classList.toggle('sidebar-open');
            const isOpen = document.body.classList.contains('sidebar-open');
            document.querySelector('.sidebar-overlay').classList.toggle('active', isOpen);

            // Save preference (only on desktop/tablet, not mobile where it's always overlay)
            if (window.innerWidth > 768) {
                localStorage.setItem('sidebarOpen', isOpen ? 'true' : 'false');
            }
        }

        // Initialize sidebar state on load
        function initSidebar() {
            const savedState = localStorage.getItem('sidebarOpen');
            // Default to open on desktop, closed on mobile/tablet
            const shouldBeOpen = window.innerWidth > 768 && savedState !== 'false';

            if (shouldBeOpen) {
                document.body.classList.add('sidebar-open');
            }
        }

        // Handle window resize
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                // On mobile, always show overlay when sidebar is open
                if (window.innerWidth <= 768) {
                    if (document.body.classList.contains('sidebar-open')) {
                        document.querySelector('.sidebar-overlay').classList.add('active');
                    }
                } else {
                    // On desktop, hide overlay
                    document.querySelector('.sidebar-overlay').classList.remove('active');
                }
            }, 100);
        });

        // Initialize sidebar
        initSidebar();

        // Search functions
        function openSearch() {
            document.getElementById('searchModal').classList.add('active');
            document.getElementById('searchInput').focus();
            selectedIndex = -1;
        }

        function closeSearch() {
            document.getElementById('searchModal').classList.remove('active');
            document.getElementById('searchInput').value = '';
            document.getElementById('searchResults').innerHTML = '';
        }

        // Shortcuts modal functions
        function openShortcuts() {
            document.getElementById('shortcutsModal').classList.add('active');
        }

        function closeShortcuts() {
            document.getElementById('shortcutsModal').classList.remove('active');
        }

        function performSearch(query) {
            const resultsContainer = document.getElementById('searchResults');

            if (!query.trim()) {
                resultsContainer.innerHTML = '<div class="search-empty">Type to search...</div>';
                return;
            }

            const results = fuse.search(query).slice(0, 10);

            if (results.length === 0) {
                resultsContainer.innerHTML = '<div class="search-empty">No results found</div>';
                return;
            }

            resultsContainer.innerHTML = results.map((result, index) => {
                const item = result.item;
                let preview = item.content.substring(0, 100) + '...';

                // Highlight matches in preview
                if (result.matches) {
                    result.matches.forEach(match => {
                        if (match.key === 'content') {
                            const regex = new RegExp(`(${query})`, 'gi');
                            preview = preview.replace(regex, '<mark>$1</mark>');
                        }
                    });
                }

                return `
                    <div class="search-result ${index === selectedIndex ? 'selected' : ''}" data-id="${item.id}" onclick="navigateTo('${item.id}')">
                        <div class="search-result-title">${item.title}</div>
                        <div class="search-result-preview">${preview}</div>
                    </div>
                `;
            }).join('');
        }

        function navigateTo(id) {
            closeSearch();
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
            // Update active nav link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + id) {
                    link.classList.add('active');
                }
            });
            // Close sidebar on mobile
            if (window.innerWidth < 768) {
                toggleSidebar();
            }
        }

        // Copy code function
        function copyCode(btn) {
            const codeBlock = btn.closest('.code-block').querySelector('code');
            navigator.clipboard.writeText(codeBlock.textContent).then(() => {
                btn.classList.add('copied');
                btn.innerHTML = `
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20 6 9 17 4 12"/>
                    </svg>
                    Copied!
                `;
                setTimeout(() => {
                    btn.classList.remove('copied');
                    btn.innerHTML = `
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="9" y="9" width="13" height="13" rx="2"/>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                        </svg>
                        Copy
                    `;
                }, 2000);
            });
        }

        // Event listeners
        document.addEventListener('keydown', (e) => {
            const isTyping = e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA';
            const searchModal = document.getElementById('searchModal');
            const shortcutsModal = document.getElementById('shortcutsModal');

            // Cmd/Ctrl + K to open search (works always)
            if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
                e.preventDefault();
                closeShortcuts();
                openSearch();
                return;
            }

            // Escape to close modals
            if (e.key === 'Escape') {
                if (shortcutsModal.classList.contains('active')) {
                    closeShortcuts();
                } else {
                    closeSearch();
                }
                return;
            }

            // Don't trigger single-key shortcuts when typing
            if (isTyping) return;

            // ? to open keyboard shortcuts
            if (e.key === '?' || (e.shiftKey && e.key === '/')) {
                e.preventDefault();
                closeSearch();
                openShortcuts();
                return;
            }

            // / to focus search
            if (e.key === '/') {
                e.preventDefault();
                closeShortcuts();
                openSearch();
                return;
            }

            // t to toggle theme
            if (e.key === 't' || e.key === 'T') {
                e.preventDefault();
                toggleTheme();
                return;
            }

            // Navigate search results
            if (searchModal.classList.contains('active')) {
                const results = document.querySelectorAll('.search-result');

                if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    selectedIndex = Math.min(selectedIndex + 1, results.length - 1);
                    updateSelectedResult(results);
                }

                if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    selectedIndex = Math.max(selectedIndex - 1, 0);
                    updateSelectedResult(results);
                }

                if (e.key === 'Enter' && selectedIndex >= 0) {
                    e.preventDefault();
                    const selectedResult = results[selectedIndex];
                    if (selectedResult) {
                        navigateTo(selectedResult.dataset.id);
                    }
                }
            }
        });

        function updateSelectedResult(results) {
            results.forEach((result, index) => {
                result.classList.toggle('selected', index === selectedIndex);
            });
            if (results[selectedIndex]) {
                results[selectedIndex].scrollIntoView({ block: 'nearest' });
            }
        }

        document.getElementById('searchInput').addEventListener('input', (e) => {
            selectedIndex = -1;
            performSearch(e.target.value);
        });

        document.getElementById('searchModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('searchModal')) {
                closeSearch();
            }
        });

        document.getElementById('shortcutsModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('shortcutsModal')) {
                closeShortcuts();
            }
        });

        // Highlight active section on scroll
        const sections = document.querySelectorAll('.section');
        const navLinks = document.querySelectorAll('.nav-link');

        const observerOptions = {
            rootMargin: '-100px 0px -50%',
            threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === '#' + entry.target.id) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, observerOptions);

        sections.forEach(section => observer.observe(section));

        // Also observe h2 and h3 sections
        document.querySelectorAll('h2[id], h3[id]').forEach(heading => {
            observer.observe(heading);
        });

        // Initialize syntax highlighting
        hljs.highlightAll();

        // Hide loading overlay - libraries are ready
        function hideLoadingOverlay() {
            const loadingOverlay = document.getElementById('loadingOverlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // Check if libraries loaded successfully
        function checkLibraries() {
            const loadingOverlay = document.getElementById('loadingOverlay');
            const errors = [];

            if (typeof hljs === 'undefined') {
                errors.push('Syntax highlighting unavailable');
            }
            if (typeof Fuse === 'undefined') {
                errors.push('Search unavailable');
            }

            if (errors.length > 0 && loadingOverlay) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'loading-error';
                errorDiv.textContent = errors.join('. ') + '. Some features may not work.';
                loadingOverlay.appendChild(errorDiv);
                // Still hide after showing error briefly
                setTimeout(hideLoadingOverlay, 2000);
            } else {
                hideLoadingOverlay();
            }
        }

        // Run check after a small delay to ensure everything is initialized
        setTimeout(checkLibraries, 100);

        // Enhance code block accessibility
        function enhanceCodeBlockAccessibility() {
            document.querySelectorAll('.code-block').forEach(block => {
                const header = block.querySelector('.code-header span');
                const pre = block.querySelector('pre');
                const code = block.querySelector('code');
                const copyBtn = block.querySelector('.copy-btn');

                // Get language from header or code class
                let language = 'code';
                if (header && header.textContent) {
                    language = header.textContent.trim();
                } else if (code && code.className) {
                    const match = code.className.match(/language-(\w+)/);
                    if (match) language = match[1];
                }

                // Add ARIA attributes to the code block
                block.setAttribute('role', 'region');
                block.setAttribute('aria-label', `${language} code example`);

                // Add accessibility to pre element
                if (pre) {
                    pre.setAttribute('tabindex', '0');
                    pre.setAttribute('aria-label', `${language} code`);
                }

                // Add aria-label to copy button
                if (copyBtn) {
                    copyBtn.setAttribute('aria-label', `Copy ${language} code to clipboard`);
                }
            });
        }

        // Run accessibility enhancements
        enhanceCodeBlockAccessibility();

        // Close sidebar when clicking nav link on mobile/tablet
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768 && document.body.classList.contains('sidebar-open')) {
                    toggleSidebar();
                }
            });
        });

        // Close sidebar when clicking overlay
        document.querySelector('.sidebar-overlay').addEventListener('click', () => {
            if (document.body.classList.contains('sidebar-open')) {
                toggleSidebar();
            }
        });

        // Scroll to Top Button
        const scrollToTopBtn = document.getElementById('scrollToTop');

        function toggleScrollToTopButton() {
            if (window.scrollY > 500) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        window.addEventListener('scroll', toggleScrollToTopButton, { passive: true });
        scrollToTopBtn.addEventListener('click', scrollToTop);

        // Reading Progress Bar
        const readingProgress = document.getElementById('readingProgress');

        function updateReadingProgress() {
            const scrollTop = window.scrollY;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
            readingProgress.style.width = Math.min(100, progress) + '%';
        }

        window.addEventListener('scroll', updateReadingProgress, { passive: true });
        updateReadingProgress(); // Initial update

        // Floating Table of Contents
        const floatingToc = document.getElementById('floatingToc');
        const floatingTocList = document.getElementById('floatingTocList');
        let currentSection = null;

        function buildFloatingToc(sectionId) {
            const section = document.getElementById(sectionId);
            if (!section) return;

            // Get all h2 and h3 headings within the section
            const headings = section.querySelectorAll('h2[id], h3[id]');
            if (headings.length === 0) {
                floatingToc.classList.remove('visible');
                return;
            }

            // Build TOC HTML
            let tocHtml = '';
            headings.forEach(heading => {
                const isH3 = heading.tagName === 'H3';
                const text = heading.textContent.trim();
                const id = heading.id;
                tocHtml += `
                    <li class="floating-toc-item">
                        <a href="#${id}" class="floating-toc-link${isH3 ? ' sub' : ''}" data-id="${id}">${text}</a>
                    </li>
                `;
            });

            floatingTocList.innerHTML = tocHtml;
            floatingToc.classList.add('visible');

            // Add click handlers
            floatingTocList.querySelectorAll('.floating-toc-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('data-id');
                    const target = document.getElementById(targetId);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
        }

        function updateFloatingTocActive() {
            const tocLinks = floatingTocList.querySelectorAll('.floating-toc-link');
            if (tocLinks.length === 0) return;

            // Find the heading closest to the top of the viewport
            let activeId = null;
            const offset = 120;

            tocLinks.forEach(link => {
                const id = link.getAttribute('data-id');
                const element = document.getElementById(id);
                if (element) {
                    const rect = element.getBoundingClientRect();
                    if (rect.top <= offset) {
                        activeId = id;
                    }
                }
            });

            // Update active state
            tocLinks.forEach(link => {
                link.classList.toggle('active', link.getAttribute('data-id') === activeId);
            });
        }

        function updateFloatingToc() {
            // Find which module section is currently in view
            const sections = document.querySelectorAll('.section[id^="module-"]');
            let visibleSection = null;

            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= 200 && rect.bottom > 200) {
                    visibleSection = section.id;
                }
            });

            // Also check intro section
            const intro = document.getElementById('intro');
            if (intro) {
                const rect = intro.getBoundingClientRect();
                if (rect.top <= 200 && rect.bottom > 200) {
                    visibleSection = 'intro';
                }
            }

            // Rebuild TOC if section changed
            if (visibleSection && visibleSection !== currentSection) {
                currentSection = visibleSection;
                buildFloatingToc(visibleSection);
            } else if (!visibleSection) {
                floatingToc.classList.remove('visible');
                currentSection = null;
            }

            // Update active heading
            updateFloatingTocActive();
        }

        // Update TOC on scroll
        window.addEventListener('scroll', updateFloatingToc, { passive: true });

        // Initial TOC build
        setTimeout(updateFloatingToc, 200);

        // Reading Time Calculator
        function addReadingTimes() {
            const wordsPerMinute = 200;
            const sections = document.querySelectorAll('.section[id^="module-"]');

            sections.forEach(section => {
                const h1 = section.querySelector('h1');
                if (!h1) return;

                // Skip if already has reading time
                if (section.querySelector('.reading-time')) return;

                // Get text content (excluding code blocks for more accurate count)
                const clone = section.cloneNode(true);
                clone.querySelectorAll('code, pre').forEach(el => el.remove());
                const text = clone.textContent || '';
                const wordCount = text.trim().split(/\s+/).filter(word => word.length > 0).length;

                // Calculate reading time
                const minutes = Math.max(1, Math.ceil(wordCount / wordsPerMinute));

                // Create reading time badge
                const badge = document.createElement('div');
                badge.className = 'reading-time';
                badge.innerHTML = `
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 6v6l4 2"/>
                    </svg>
                    ${minutes} min read
                `;

                // Insert after h1
                h1.insertAdjacentElement('afterend', badge);
            });
        }

        // Add reading times on load
        addReadingTimes();

        // ========================================
        // Interactive Exercises
        // ========================================
        const exerciseDefaults = {
            'settings': `{
  "permissions": {
    // Add your configuration here
  }
}`,
            'agent': `# QA Engineer Agent

## Identity
<!-- Describe the agent's role -->

## Responsibilities
<!-- List testing responsibilities -->`
        };

        const exerciseValidators = {
            'settings': (input) => {
                const checks = [];
                const lower = input.toLowerCase();

                if (lower.includes('allowed_commands') && lower.includes('npm') && lower.includes('git')) {
                    checks.push({ pass: true, msg: 'Allowed commands configured correctly' });
                } else {
                    checks.push({ pass: false, msg: 'Include allowed_commands with npm and git' });
                }

                if (lower.includes('blocked_commands') && (lower.includes('rm -rf') || lower.includes('sudo'))) {
                    checks.push({ pass: true, msg: 'Blocked commands configured' });
                } else {
                    checks.push({ pass: false, msg: 'Include blocked_commands with dangerous commands' });
                }

                if (lower.includes('auto-edit') || lower.includes('auto_edit')) {
                    checks.push({ pass: true, msg: 'Approval mode set correctly' });
                } else {
                    checks.push({ pass: false, msg: 'Set approval_mode to "auto-edit"' });
                }

                return checks;
            },
            'agent': (input) => {
                const checks = [];
                const lower = input.toLowerCase();

                if (lower.includes('## identity') && lower.includes('qa') || lower.includes('quality') || lower.includes('test')) {
                    checks.push({ pass: true, msg: 'Identity section present' });
                } else {
                    checks.push({ pass: false, msg: 'Add an Identity section describing the QA role' });
                }

                if (lower.includes('## responsibilities')) {
                    checks.push({ pass: true, msg: 'Responsibilities section present' });
                } else {
                    checks.push({ pass: false, msg: 'Add a Responsibilities section' });
                }

                const testKeywords = ['test', 'bug', 'quality', 'review', 'automation', 'e2e', 'unit'];
                const foundKeywords = testKeywords.filter(kw => lower.includes(kw));
                if (foundKeywords.length >= 2) {
                    checks.push({ pass: true, msg: 'Testing responsibilities defined' });
                } else {
                    checks.push({ pass: false, msg: 'Add testing-related responsibilities' });
                }

                return checks;
            }
        };

        function checkExercise(exerciseId) {
            const input = document.getElementById('exercise-' + exerciseId + '-input').value;
            const resultDiv = document.getElementById('exercise-' + exerciseId + '-result');
            const validator = exerciseValidators[exerciseId];

            if (!validator) return;

            const checks = validator(input);
            const allPass = checks.every(c => c.pass);

            let html = '<ul style="margin: 0; padding-left: 20px;">';
            checks.forEach(check => {
                const icon = check.pass ? '' : '';
                html += `<li>${icon} ${check.msg}</li>`;
            });
            html += '</ul>';

            if (allPass) {
                html = '<strong>Great job!</strong> ' + html;
            }

            resultDiv.innerHTML = html;
            resultDiv.className = 'exercise-result visible ' + (allPass ? 'success' : 'error');
        }

        function showHint(exerciseId) {
            const hintDiv = document.getElementById('exercise-' + exerciseId + '-hint');
            hintDiv.classList.toggle('visible');
        }

        function resetExercise(exerciseId) {
            const input = document.getElementById('exercise-' + exerciseId + '-input');
            const resultDiv = document.getElementById('exercise-' + exerciseId + '-result');
            const hintDiv = document.getElementById('exercise-' + exerciseId + '-hint');

            input.value = exerciseDefaults[exerciseId] || '';
            resultDiv.classList.remove('visible');
            hintDiv.classList.remove('visible');
        }

        // ========================================
        // Progress Tracking
        // ========================================
        const MODULES = ['module-1', 'module-2', 'module-3', 'module-4', 'module-5', 'module-6', 'module-7', 'module-8', 'module-9'];

        function getCompletedModules() {
            const saved = localStorage.getItem('completedModules');
            return saved ? JSON.parse(saved) : [];
        }

        function saveCompletedModules(modules) {
            localStorage.setItem('completedModules', JSON.stringify(modules));
        }

        function toggleModuleComplete(moduleId) {
            const completed = getCompletedModules();
            const index = completed.indexOf(moduleId);
            if (index > -1) {
                completed.splice(index, 1);
            } else {
                completed.push(moduleId);
            }
            saveCompletedModules(completed);
            updateProgressUI();
        }

        function updateProgressUI() {
            const completed = getCompletedModules();
            const total = MODULES.length;
            const count = completed.length;
            const percentage = (count / total) * 100;

            // Update progress bar
            document.getElementById('progressBarFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = count + '/' + total;

            // Update nav links
            document.querySelectorAll('.nav-link[href^="#module-"]').forEach(link => {
                const moduleId = link.getAttribute('href').substring(1);
                if (completed.includes(moduleId)) {
                    link.classList.add('completed');
                } else {
                    link.classList.remove('completed');
                }
            });

            // Update module complete buttons
            document.querySelectorAll('.module-complete-btn').forEach(btn => {
                const moduleId = btn.getAttribute('data-module');
                if (completed.includes(moduleId)) {
                    btn.classList.add('completed');
                    btn.innerHTML = `
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                            <polyline points="22 4 12 14.01 9 11.01"/>
                        </svg>
                        Completed
                    `;
                } else {
                    btn.classList.remove('completed');
                    btn.innerHTML = `
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 6v6l4 2"/>
                        </svg>
                        Mark as Complete
                    `;
                }
            });
        }

        function addModuleCompleteButtons() {
            MODULES.forEach(moduleId => {
                const section = document.getElementById(moduleId);
                if (!section) return;

                // Skip if button already exists
                if (section.querySelector('.module-complete-btn')) return;

                const btn = document.createElement('button');
                btn.className = 'module-complete-btn';
                btn.setAttribute('data-module', moduleId);
                btn.innerHTML = `
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 6v6l4 2"/>
                    </svg>
                    Mark as Complete
                `;
                btn.onclick = () => toggleModuleComplete(moduleId);

                // Add at end of section
                section.appendChild(btn);
            });
        }

        // Initialize progress tracking
        addModuleCompleteButtons();
        updateProgressUI();

        // ========================================
        // Authentication System
        // ========================================

        // Test user credentials (hardcoded)
        const TEST_USER = {
            email: 'test@claude.ai',
            password: 'mastery2025'
        };

        // Check if user is already logged in
        function checkAuth() {
            const isLoggedIn = localStorage.getItem('claudeMasteryAuth') === 'true';
            const loginOverlay = document.getElementById('loginOverlay');
            const appContent = document.getElementById('appContent');

            if (isLoggedIn) {
                loginOverlay.classList.add('hidden');
                appContent.classList.add('visible');
            } else {
                loginOverlay.classList.remove('hidden');
                appContent.classList.remove('visible');
            }
        }

        // Handle login form submission
        function handleLogin(event) {
            event.preventDefault();

            const email = document.getElementById('email').value.trim().toLowerCase();
            const password = document.getElementById('password').value;
            const loginError = document.getElementById('loginError');
            const loginBtn = document.getElementById('loginBtn');

            // Disable button during check
            loginBtn.disabled = true;
            loginBtn.textContent = 'Signing in...';

            // Simulate network delay
            setTimeout(() => {
                if (email === TEST_USER.email && password === TEST_USER.password) {
                    // Success - store auth state
                    localStorage.setItem('claudeMasteryAuth', 'true');
                    loginError.classList.remove('visible');

                    // Show app content
                    document.getElementById('loginOverlay').classList.add('hidden');
                    document.getElementById('appContent').classList.add('visible');
                } else {
                    // Failed - show error
                    loginError.classList.add('visible');
                    loginBtn.disabled = false;
                    loginBtn.textContent = 'Sign In';
                }
            }, 500);
        }

        // Handle logout
        function handleLogout() {
            localStorage.removeItem('claudeMasteryAuth');
            document.getElementById('loginOverlay').classList.remove('hidden');
            document.getElementById('appContent').classList.remove('visible');

            // Clear form
            document.getElementById('email').value = '';
            document.getElementById('password').value = '';
            document.getElementById('loginError').classList.remove('visible');
        }

        // Initialize auth on page load
        checkAuth();

        // ========================================
        // Service Worker Registration
        // ========================================
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('[App] Service Worker registered:', registration.scope);

                        // Check for updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New content available, show update notification
                                    showUpdateNotification();
                                }
                            });
                        });
                    })
                    .catch((error) => {
                        console.log('[App] Service Worker registration failed:', error);
                    });
            });

            // Handle offline/online status
            function updateOnlineStatus() {
                const indicator = document.getElementById('offlineIndicator');
                if (navigator.onLine) {
                    indicator.classList.remove('visible');
                } else {
                    indicator.classList.add('visible');
                }
            }

            window.addEventListener('online', updateOnlineStatus);
            window.addEventListener('offline', updateOnlineStatus);

            // Show update notification
            function showUpdateNotification() {
                const notification = document.createElement('div');
                notification.className = 'update-notification';
                notification.innerHTML = `
                    <span>A new version is available!</span>
                    <button onclick="location.reload()">Refresh</button>
                `;
                document.body.appendChild(notification);
                setTimeout(() => notification.classList.add('visible'), 100);
            }
        }
    </script>
</body>
</html>
